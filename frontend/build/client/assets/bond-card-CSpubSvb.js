import{r as u,j as d,e as _e,v as Xt,z as Vn}from"./index-BpesTnD6.js";import{L as st,aO as Bn,M as _,aP as xt,U as ot,aQ as it,ag as Zt,aR as Wn,aS as Jt,aT as zn,V as Y,aU as Z,T as we,aV as Un,aI as Qt,aW as en,X as ce,aX as tn,ad as Me,aY as Rt,aZ as qn,P as Ne,K as V,a_ as It,ah as Ge,a$ as yt,b0 as Te,R as kt,b1 as $n,b2 as nn,b3 as Yn,b4 as Kn,E as Hn,b5 as se,b6 as rn,b7 as _n,b8 as Gn,b9 as me,ba as ut,bb as Xn,bc as Zn,bd as re,be as dt,bf as Ot,bg as Jn,Y as Qn,N as sn,bh as on,bi as er,bj as tr,bk as an,bl as ln,bm as nr,W as rr,bn as sr,S as cn,bo as or,c as ve,aj as wt,am as ir,ao as Nt,ap as Pt,aq as ar,ar as Re,bp as jt,aA as lr,at as Et,H as ue,x as cr,bq as un,r as ur,ak as dr,al as fr,br as pr,az as gr,C as mr,bs as hr,a as br,bt as vr,bu as xr,bv as yr,bw as Er}from"./contracts-DQP-R78Y.js";import{$ as fe}from"./index-BoWXTe0l.js";const Sr="data-base-ui-click-trigger",Cr={clipPath:"inset(50%)",position:"fixed",top:0,left:0},Ue=null;class Rr{callbacks=[];callbacksCount=0;nextId=1;startId=1;isScheduled=!1;tick=e=>{this.isScheduled=!1;const n=this.callbacks,r=this.callbacksCount;if(this.callbacks=[],this.callbacksCount=0,this.startId=this.nextId,r>0)for(let s=0;s<n.length;s+=1)n[s]?.(e)};request(e){const n=this.nextId;return this.nextId+=1,this.callbacks.push(e),this.callbacksCount+=1,!this.isScheduled&&(requestAnimationFrame(this.tick),this.isScheduled=!0),n}cancel(e){const n=e-this.startId;n<0||n>=this.callbacks.length||(this.callbacks[n]=null,this.callbacksCount-=1)}}const qe=new Rr;class ie{static create(){return new ie}static request(e){return qe.request(e)}static cancel(e){return qe.cancel(e)}currentId=Ue;request(e){this.cancel(),this.currentId=qe.request(()=>{this.currentId=Ue,e()})}cancel=()=>{this.currentId!==Ue&&(qe.cancel(this.currentId),this.currentId=Ue)};disposeEffect=()=>this.cancel}function dn(){const t=st(ie.create).current;return Bn(t.disposeEffect),t}let Mt={},At={},Ft="";function wr(t){if(typeof document>"u")return!1;const e=ot(t);return it(e).innerWidth-e.documentElement.clientWidth>0}function Tr(t){const e=ot(t),n=e.documentElement,r=e.body,s=Jt(n)?n:r,o=s.style.overflow;return s.style.overflow="hidden",()=>{s.style.overflow=o}}function Ir(t){const e=ot(t),n=e.documentElement,r=e.body,s=it(n);let o=0,i=0;const l=ie.create(),a=typeof CSS<"u"&&CSS.supports?.("scrollbar-gutter","stable");if(zn&&(s.visualViewport?.scale??1)!==1)return()=>{};function c(){const p=s.getComputedStyle(n),g=s.getComputedStyle(r),C=(p.scrollbarGutter||"").includes("both-edges")?"stable both-edges":"stable";o=n.scrollTop,i=n.scrollLeft,Mt={scrollbarGutter:n.style.scrollbarGutter,overflowY:n.style.overflowY,overflowX:n.style.overflowX},Ft=n.style.scrollBehavior,At={position:r.style.position,height:r.style.height,width:r.style.width,boxSizing:r.style.boxSizing,overflowY:r.style.overflowY,overflowX:r.style.overflowX,scrollBehavior:r.style.scrollBehavior};const T=n.scrollHeight>n.clientHeight,S=n.scrollWidth>n.clientWidth,E=p.overflowY==="scroll"||g.overflowY==="scroll",j=p.overflowX==="scroll"||g.overflowX==="scroll",k=Math.max(0,s.innerWidth-n.clientWidth),I=Math.max(0,s.innerHeight-n.clientHeight),B=parseFloat(g.marginTop)+parseFloat(g.marginBottom),M=parseFloat(g.marginLeft)+parseFloat(g.marginRight),W=Jt(n)?n:r;if(a){n.style.scrollbarGutter=C,W.style.overflowY="hidden",W.style.overflowX="hidden";return}Object.assign(n.style,{scrollbarGutter:C,overflowY:"hidden",overflowX:"hidden"}),(T||E)&&(n.style.overflowY="scroll"),(S||j)&&(n.style.overflowX="scroll"),Object.assign(r.style,{position:"relative",height:B||I?`calc(100dvh - ${B+I}px)`:"100dvh",width:M||k?`calc(100vw - ${M+k}px)`:"100vw",boxSizing:"border-box",overflow:"hidden",scrollBehavior:"unset"}),r.scrollTop=o,r.scrollLeft=i,n.setAttribute("data-base-ui-scroll-locked",""),n.style.scrollBehavior="unset"}function m(){Object.assign(n.style,Mt),Object.assign(r.style,At),a||(n.scrollTop=o,n.scrollLeft=i,n.removeAttribute("data-base-ui-scroll-locked"),n.style.scrollBehavior=Ft)}function f(){m(),l.request(c)}return c(),s.addEventListener("resize",f),()=>{l.cancel(),m(),typeof s.removeEventListener=="function"&&s.removeEventListener("resize",f)}}class kr{lockCount=0;restore=null;timeoutLock=xt.create();timeoutUnlock=xt.create();acquire(e){return this.lockCount+=1,this.lockCount===1&&this.restore===null&&this.timeoutLock.start(0,()=>this.lock(e)),this.release}release=()=>{this.lockCount-=1,this.lockCount===0&&this.restore&&this.timeoutUnlock.start(0,this.unlock)};unlock=()=>{this.lockCount===0&&this.restore&&(this.restore?.(),this.restore=null)};lock(e){if(this.lockCount===0||this.restore!==null)return;const r=ot(e).documentElement,s=it(r).getComputedStyle(r).overflowY;if(s==="hidden"||s==="clip"){this.restore=Zt;return}const o=Wn||!wr(e);this.restore=o?Tr(e):Ir(e)}}const Or=new kr;function Nr(t=!0,e=null){_(()=>{if(t)return Or.acquire(e)},[t,e])}function je(t){const e=st(Pr,t).current;return e.next=t,_(e.effect),e}function Pr(t){const e={current:t,next:t,effect:()=>{e.current=e.next}};return e}function Ie(t,e,n=!0){return t.filter(s=>s.parentId===e&&(!n||s.context?.open)).flatMap(s=>[s,...Ie(t,s.id,n)])}function Dt(t,e){let n=[],r=t.find(s=>s.id===e)?.parentId;for(;r;){const s=t.find(o=>o.id===r);r=s?.parentId,s&&(n=n.concat(s))}return n}var jr=["input:not([inert]):not([inert] *)","select:not([inert]):not([inert] *)","textarea:not([inert]):not([inert] *)","a[href]:not([inert]):not([inert] *)","button:not([inert]):not([inert] *)","[tabindex]:not(slot):not([inert]):not([inert] *)","audio[controls]:not([inert]):not([inert] *)","video[controls]:not([inert]):not([inert] *)",'[contenteditable]:not([contenteditable="false"]):not([inert]):not([inert] *)',"details>summary:first-of-type:not([inert]):not([inert] *)","details:not([inert]):not([inert] *)"],Xe=jr.join(","),fn=typeof Element>"u",Oe=fn?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,Ze=!fn&&Element.prototype.getRootNode?function(t){var e;return t==null||(e=t.getRootNode)===null||e===void 0?void 0:e.call(t)}:function(t){return t?.ownerDocument},Je=function(e,n){var r;n===void 0&&(n=!0);var s=e==null||(r=e.getAttribute)===null||r===void 0?void 0:r.call(e,"inert"),o=s===""||s==="true",i=o||n&&e&&(typeof e.closest=="function"?e.closest("[inert]"):Je(e.parentNode));return i},Mr=function(e){var n,r=e==null||(n=e.getAttribute)===null||n===void 0?void 0:n.call(e,"contenteditable");return r===""||r==="true"},pn=function(e,n,r){if(Je(e))return[];var s=Array.prototype.slice.apply(e.querySelectorAll(Xe));return n&&Oe.call(e,Xe)&&s.unshift(e),s=s.filter(r),s},Qe=function(e,n,r){for(var s=[],o=Array.from(e);o.length;){var i=o.shift();if(!Je(i,!1))if(i.tagName==="SLOT"){var l=i.assignedElements(),a=l.length?l:i.children,c=Qe(a,!0,r);r.flatten?s.push.apply(s,c):s.push({scopeParent:i,candidates:c})}else{var m=Oe.call(i,Xe);m&&r.filter(i)&&(n||!e.includes(i))&&s.push(i);var f=i.shadowRoot||typeof r.getShadowRoot=="function"&&r.getShadowRoot(i),p=!Je(f,!1)&&(!r.shadowRootFilter||r.shadowRootFilter(i));if(f&&p){var g=Qe(f===!0?i.children:f.children,!0,r);r.flatten?s.push.apply(s,g):s.push({scopeParent:i,candidates:g})}else o.unshift.apply(o,i.children)}}return s},gn=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},mn=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||Mr(e))&&!gn(e)?0:e.tabIndex},Ar=function(e,n){var r=mn(e);return r<0&&n&&!gn(e)?0:r},Fr=function(e,n){return e.tabIndex===n.tabIndex?e.documentOrder-n.documentOrder:e.tabIndex-n.tabIndex},hn=function(e){return e.tagName==="INPUT"},Dr=function(e){return hn(e)&&e.type==="hidden"},Lr=function(e){var n=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(r){return r.tagName==="SUMMARY"});return n},Vr=function(e,n){for(var r=0;r<e.length;r++)if(e[r].checked&&e[r].form===n)return e[r]},Br=function(e){if(!e.name)return!0;var n=e.form||Ze(e),r=function(l){return n.querySelectorAll('input[type="radio"][name="'+l+'"]')},s;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")s=r(window.CSS.escape(e.name));else try{s=r(e.name)}catch(i){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",i.message),!1}var o=Vr(s,e.form);return!o||o===e},Wr=function(e){return hn(e)&&e.type==="radio"},zr=function(e){return Wr(e)&&!Br(e)},Ur=function(e){var n,r=e&&Ze(e),s=(n=r)===null||n===void 0?void 0:n.host,o=!1;if(r&&r!==e){var i,l,a;for(o=!!((i=s)!==null&&i!==void 0&&(l=i.ownerDocument)!==null&&l!==void 0&&l.contains(s)||e!=null&&(a=e.ownerDocument)!==null&&a!==void 0&&a.contains(e));!o&&s;){var c,m,f;r=Ze(s),s=(c=r)===null||c===void 0?void 0:c.host,o=!!((m=s)!==null&&m!==void 0&&(f=m.ownerDocument)!==null&&f!==void 0&&f.contains(s))}}return o},Lt=function(e){var n=e.getBoundingClientRect(),r=n.width,s=n.height;return r===0&&s===0},qr=function(e,n){var r=n.displayCheck,s=n.getShadowRoot;if(r==="full-native"&&"checkVisibility"in e){var o=e.checkVisibility({checkOpacity:!1,opacityProperty:!1,contentVisibilityAuto:!0,visibilityProperty:!0,checkVisibilityCSS:!0});return!o}if(getComputedStyle(e).visibility==="hidden")return!0;var i=Oe.call(e,"details>summary:first-of-type"),l=i?e.parentElement:e;if(Oe.call(l,"details:not([open]) *"))return!0;if(!r||r==="full"||r==="full-native"||r==="legacy-full"){if(typeof s=="function"){for(var a=e;e;){var c=e.parentElement,m=Ze(e);if(c&&!c.shadowRoot&&s(c)===!0)return Lt(e);e.assignedSlot?e=e.assignedSlot:!c&&m!==e.ownerDocument?e=m.host:e=c}e=a}if(Ur(e))return!e.getClientRects().length;if(r!=="legacy-full")return!0}else if(r==="non-zero-area")return Lt(e);return!1},$r=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var n=e.parentElement;n;){if(n.tagName==="FIELDSET"&&n.disabled){for(var r=0;r<n.children.length;r++){var s=n.children.item(r);if(s.tagName==="LEGEND")return Oe.call(n,"fieldset[disabled] *")?!0:!s.contains(e)}return!0}n=n.parentElement}return!1},St=function(e,n){return!(n.disabled||Dr(n)||qr(n,e)||Lr(n)||$r(n))},Ct=function(e,n){return!(zr(n)||mn(n)<0||!St(e,n))},Yr=function(e){var n=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(n)||n>=0)},bn=function(e){var n=[],r=[];return e.forEach(function(s,o){var i=!!s.scopeParent,l=i?s.scopeParent:s,a=Ar(l,i),c=i?bn(s.candidates):l;a===0?i?n.push.apply(n,c):n.push(l):r.push({documentOrder:o,tabIndex:a,item:s,isScope:i,content:c})}),r.sort(Fr).reduce(function(s,o){return o.isScope?s.push.apply(s,o.content):s.push(o.content),s},[]).concat(n)},at=function(e,n){n=n||{};var r;return n.getShadowRoot?r=Qe([e],n.includeContainer,{filter:Ct.bind(null,n),flatten:!1,getShadowRoot:n.getShadowRoot,shadowRootFilter:Yr}):r=pn(e,n.includeContainer,Ct.bind(null,n)),bn(r)},Kr=function(e,n){n=n||{};var r;return n.getShadowRoot?r=Qe([e],n.includeContainer,{filter:St.bind(null,n),flatten:!0,getShadowRoot:n.getShadowRoot}):r=pn(e,n.includeContainer,St.bind(null,n)),r},vn=function(e,n){if(n=n||{},!e)throw new Error("No node provided");return Oe.call(e,Xe)===!1?!1:Ct(n,e)};const De=()=>({getShadowRoot:!0,displayCheck:typeof ResizeObserver=="function"&&ResizeObserver.toString().includes("[native code]")?"full":"none"});function xn(t,e){const n=at(t,De()),r=n.length;if(r===0)return;const s=we(Z(t)),o=n.indexOf(s),i=o===-1?e===1?0:r-1:o+e;return n[i]}function yn(t){return xn(Z(t).body,1)||t}function En(t){return xn(Z(t).body,-1)||t}function Ae(t,e){const n=e||t.currentTarget,r=t.relatedTarget;return!r||!Y(n,r)}function Hr(t){at(t,De()).forEach(n=>{n.dataset.tabindex=n.getAttribute("tabindex")||"",n.setAttribute("tabindex","-1")})}function Vt(t){t.querySelectorAll("[data-tabindex]").forEach(n=>{const r=n.dataset.tabindex;delete n.dataset.tabindex,r?n.setAttribute("tabindex",r):n.removeAttribute("tabindex")})}function _r(){const t=new Map;return{emit(e,n){t.get(e)?.forEach(r=>r(n))},on(e,n){t.has(e)||t.set(e,new Set),t.get(e).add(n)},off(e,n){t.get(e)?.delete(n)}}}const Gr=u.createContext(null),Xr=u.createContext(null),Sn=()=>u.useContext(Gr)?.id||null,Cn=t=>{const e=u.useContext(Xr);return t??e};function et(t){return`data-base-ui-${t}`}const tt=u.forwardRef(function(e,n){const[r,s]=u.useState();_(()=>{Un&&s("button")},[]);const o={tabIndex:0,role:r};return d.jsx("span",{...e,ref:n,style:Qt,"aria-hidden":r?void 0:!0,...o,"data-base-ui-focus-guard":""})});let Bt=0;function ft(t,e={}){const{preventScroll:n=!1,cancelPrevious:r=!0,sync:s=!1}=e;r&&cancelAnimationFrame(Bt);const o=()=>t?.focus({preventScroll:n});s?o():Bt=requestAnimationFrame(o)}const ke={inert:new WeakMap,"aria-hidden":new WeakMap,none:new WeakMap};function Wt(t){return t==="inert"?ke.inert:t==="aria-hidden"?ke["aria-hidden"]:ke.none}let $e=new WeakSet,Ye={},pt=0;const Rn=t=>t&&(t.host||Rn(t.parentNode)),Zr=(t,e)=>e.map(n=>{if(t.contains(n))return n;const r=Rn(n);return t.contains(r)?r:null}).filter(n=>n!=null);function Jr(t,e,n,r){const s="data-base-ui-inert",o=r?"inert":n?"aria-hidden":null,i=Zr(e,t),l=new Set,a=new Set(i),c=[];Ye[s]||(Ye[s]=new WeakMap);const m=Ye[s];i.forEach(f),p(e),l.clear();function f(g){!g||l.has(g)||(l.add(g),g.parentNode&&f(g.parentNode))}function p(g){!g||a.has(g)||[].forEach.call(g.children,b=>{if(en(b)!=="script")if(l.has(b))p(b);else{const v=o?b.getAttribute(o):null,C=v!==null&&v!=="false",T=Wt(o),S=(T.get(b)||0)+1,E=(m.get(b)||0)+1;T.set(b,S),m.set(b,E),c.push(b),S===1&&C&&$e.add(b),E===1&&b.setAttribute(s,""),!C&&o&&b.setAttribute(o,o==="inert"?"":"true")}})}return pt+=1,()=>{c.forEach(g=>{const b=Wt(o),C=(b.get(g)||0)-1,T=(m.get(g)||0)-1;b.set(g,C),m.set(g,T),C||(!$e.has(g)&&o&&g.removeAttribute(o),$e.delete(g)),T||g.removeAttribute(s)}),pt-=1,pt||(ke.inert=new WeakMap,ke["aria-hidden"]=new WeakMap,ke.none=new WeakMap,$e=new WeakSet,Ye={})}}function Qr(t,e=!1,n=!1){const r=Z(t[0]).body;return Jr(t.concat(Array.from(r.querySelectorAll("[aria-live]"))),r,e,n)}const wn=u.createContext(null),Tn=()=>u.useContext(wn),es=et("portal");function ts(t={}){const{ref:e,container:n,componentProps:r=Me,elementProps:s,elementState:o}=t,i=Rt(),a=Tn()?.portalNode,[c,m]=u.useState(null),[f,p]=u.useState(null),g=u.useRef(null);_(()=>{if(n===null){g.current&&(g.current=null,p(null),m(null));return}if(i==null)return;const C=(n&&(qn(n)?n:n.current))??a??document.body;if(C==null){g.current&&(g.current=null,p(null),m(null));return}g.current!==C&&(g.current=C,p(null),m(C))},[n,a,i]);const b=Ne("div",r,{ref:[e,p],state:o,props:[{id:i,[es]:""},s]});return{portalNode:f,portalSubtree:c&&b?_e.createPortal(b,c):null}}const ns=u.forwardRef(function(e,n){const{children:r,container:s,className:o,render:i,renderGuards:l,...a}=e,{portalNode:c,portalSubtree:m}=ts({container:s,ref:n,componentProps:e,elementProps:a}),f=u.useRef(null),p=u.useRef(null),g=u.useRef(null),b=u.useRef(null),[v,C]=u.useState(null),T=v?.modal,S=v?.open,E=typeof l=="boolean"?l:!!v&&!v.modal&&v.open&&!!c;u.useEffect(()=>{if(!c||T)return;function k(I){c&&Ae(I)&&(I.type==="focusin"?Vt:Hr)(c)}return c.addEventListener("focusin",k,!0),c.addEventListener("focusout",k,!0),()=>{c.removeEventListener("focusin",k,!0),c.removeEventListener("focusout",k,!0)}},[c,T]),u.useEffect(()=>{!c||S||Vt(c)},[S,c]);const j=u.useMemo(()=>({beforeOutsideRef:f,afterOutsideRef:p,beforeInsideRef:g,afterInsideRef:b,portalNode:c,setFocusManagerState:C}),[c]);return d.jsxs(u.Fragment,{children:[m,d.jsxs(wn.Provider,{value:j,children:[E&&c&&d.jsx(tt,{"data-type":"outside",ref:f,onFocus:k=>{if(Ae(k,c))g.current?.focus();else{const I=v?v.domReference:null;En(I)?.focus()}}}),E&&c&&d.jsx("span",{"aria-owns":c.id,style:Cr}),c&&_e.createPortal(r,c),E&&c&&d.jsx(tt,{"data-type":"outside",ref:p,onFocus:k=>{if(Ae(k,c))b.current?.focus();else{const I=v?v.domReference:null;yn(I)?.focus(),v?.closeOnFocusOut&&v?.onOpenChange(!1,ce(tn,k.nativeEvent))}}})]})]})});function he(t){return t==null?t:"current"in t?t.current:t}function rs(t,e){const n=it(t.target);return t instanceof n.KeyboardEvent?"keyboard":t instanceof n.FocusEvent?e||"keyboard":"pointerType"in t?t.pointerType||"keyboard":"touches"in t?"touch":t instanceof n.MouseEvent?e||(t.detail===0?"keyboard":"mouse"):""}const zt=20;let pe=[];function Tt(){pe=pe.filter(t=>t.isConnected)}function ss(t){Tt(),t&&en(t)!=="body"&&(pe.push(t),pe.length>zt&&(pe=pe.slice(-zt)))}function gt(){return Tt(),pe[pe.length-1]}function os(t){if(!t)return null;const e=De();return vn(t,e)?t:at(t,e)[0]||t}function is(t){return!t||!t.isConnected?!1:typeof t.checkVisibility=="function"?t.checkVisibility():rn(t).display!=="none"}function Ut(t,e){if(!e.current.includes("floating")&&!t.getAttribute("role")?.includes("dialog"))return;const n=De(),s=Kr(t,n).filter(i=>{const l=i.getAttribute("data-tabindex")||"";return vn(i,n)||i.hasAttribute("data-tabindex")&&!l.startsWith("-")}),o=t.getAttribute("tabindex");e.current.includes("floating")||s.length===0?o!=="0"&&t.setAttribute("tabindex","0"):(o!=="-1"||t.hasAttribute("data-tabindex")&&t.getAttribute("data-tabindex")!=="-1")&&(t.setAttribute("tabindex","-1"),t.setAttribute("data-tabindex","-1"))}function as(t){const{context:e,children:n,disabled:r=!1,order:s=["content"],initialFocus:o=!0,returnFocus:i=!0,restoreFocus:l=!1,modal:a=!0,closeOnFocusOut:c=!0,openInteractionType:m="",getInsideElements:f=()=>[],nextFocusableElement:p,previousFocusableElement:g,beforeContentFocusGuardRef:b,externalTree:v}=t,C="rootStore"in e?e.rootStore:e,T=C.useState("open"),S=C.useState("domReferenceElement"),E=C.useState("floatingElement"),{events:j,dataRef:k}=C.context,I=V(()=>k.current.floatingContext?.nodeId),B=V(f),M=o===!1,W=It(S)&&M,z=je(s),U=je(o),K=je(i),te=je(m),G=Cn(v),F=Tn(),ae=u.useRef(null),lt=u.useRef(null),H=u.useRef(!1),oe=u.useRef(!1),ye=u.useRef(!1),Le=u.useRef(-1),Ee=u.useRef(""),ne=u.useRef(""),Ve=Ge(),Se=Ge(),Be=dn(),ge=F!=null,O=yt(E),Q=V((y=O)=>y?at(y,De()):[]),de=V(y=>{const w=Q(y);return z.current.map(()=>w).filter(Boolean).flat()});u.useEffect(()=>{if(r||!a)return;function y(q){q.key==="Tab"&&Y(O,we(Z(O)))&&Q().length===0&&!W&&Hn(q)}const w=Z(O);return w.addEventListener("keydown",y),()=>{w.removeEventListener("keydown",y)}},[r,S,O,a,z,W,Q,de]),u.useEffect(()=>{if(r||!E)return;function y(w){const q=se(w),$=Q().indexOf(q);$!==-1&&(Le.current=$)}return E.addEventListener("focusin",y),()=>{E.removeEventListener("focusin",y)}},[r,E,Q]),u.useEffect(()=>{if(r||!T)return;const y=Z(O);function w(){ye.current=!1}function q($){const x=se($),N=Y(E,x)||Y(S,x)||Y(F?.portalNode,x);ye.current=!N,ne.current=$.pointerType||"keyboard"}function L(){ne.current="keyboard"}return y.addEventListener("pointerdown",q,!0),y.addEventListener("pointerup",w,!0),y.addEventListener("pointercancel",w,!0),y.addEventListener("keydown",L,!0),()=>{y.removeEventListener("pointerdown",q,!0),y.removeEventListener("pointerup",w,!0),y.removeEventListener("pointercancel",w,!0),y.removeEventListener("keydown",L,!0)}},[r,E,S,O,T,F]),u.useEffect(()=>{if(r||!c)return;function y(){oe.current=!0,Se.start(0,()=>{oe.current=!1})}function w(x){const N=x.relatedTarget,le=x.currentTarget,J=se(x);queueMicrotask(()=>{const Ce=I(),We=C.context.triggerElements,ct=!(Y(S,N)||Y(E,N)||Y(N,E)||Y(F?.portalNode,N)||N!=null&&We.hasElement(N)||We.hasMatchingElement(ee=>Y(ee,N))||N?.hasAttribute(et("focus-guard"))||G&&(Ie(G.nodesRef.current,Ce).find(ee=>Y(ee.context?.elements.floating,N)||Y(ee.context?.elements.domReference,N))||Dt(G.nodesRef.current,Ce).find(ee=>[ee.context?.elements.floating,yt(ee.context?.elements.floating)].includes(N)||ee.context?.elements.domReference===N)));if(le===S&&O&&Ut(O,z),l&&le!==S&&!is(J)&&we(Z(O))===Z(O).body){if(Te(O)&&(O.focus(),l==="popup")){Be.request(()=>{O.focus()});return}const ee=Le.current,Pe=Q(),ze=Pe[ee]||Pe[Pe.length-1]||O;Te(ze)&&ze.focus()}if(k.current.insideReactTree){k.current.insideReactTree=!1;return}(W||!a)&&N&&ct&&!oe.current&&(W||N!==gt())&&(H.current=!0,C.setOpen(!1,ce(tn,x)))})}function q(){ye.current||(k.current.insideReactTree=!0,Ve.start(0,()=>{k.current.insideReactTree=!1}))}const L=Te(S)?S:null,$=[];if(!(!E&&!L))return L&&(L.addEventListener("focusout",w),L.addEventListener("pointerdown",y),$.push(()=>{L.removeEventListener("focusout",w),L.removeEventListener("pointerdown",y)})),E&&(E.addEventListener("focusout",w),F&&(E.addEventListener("focusout",q,!0),$.push(()=>{E.removeEventListener("focusout",q,!0)})),$.push(()=>{E.removeEventListener("focusout",w)})),()=>{$.forEach(x=>{x()})}},[r,S,E,O,a,G,F,C,c,l,Q,W,I,z,k,Ve,Se,Be]);const h=u.useRef(null),P=u.useRef(null),R=kt(h,b,F?.beforeInsideRef),X=kt(P,F?.afterInsideRef);u.useEffect(()=>{if(r||!E||!T)return;const y=Array.from(F?.portalNode?.querySelectorAll(`[${et("portal")}]`)||[]),q=(G?Dt(G.nodesRef.current,I()):[]).find(x=>It(x.context?.elements.domReference||null))?.context?.elements.domReference,L=[E,q,...y,...B(),ae.current,lt.current,h.current,P.current,F?.beforeOutsideRef.current,F?.afterOutsideRef.current,he(g),he(p),W?S:null].filter(x=>x!=null),$=Qr(L,a||W);return()=>{$()}},[T,r,S,E,a,z,F,W,G,I,B,p,g]),_(()=>{if(!T||r||!Te(O))return;const y=Z(O),w=we(y);queueMicrotask(()=>{const q=de(O),L=U.current,$=typeof L=="function"?L(te.current||""):L;if($===void 0||$===!1)return;let x;$===!0||$===null?x=q[0]||O:x=he($),x=x||q[0]||O,!Y(O,w)&&ft(x,{preventScroll:x===O})})},[r,T,O,M,de,U,te]),_(()=>{if(r||!O)return;const y=Z(O),w=we(y);ss(w);function q(x){if(x.open||(Ee.current=rs(x.nativeEvent,ne.current)),x.reason===$n&&x.nativeEvent.type==="mouseleave"&&(H.current=!0),x.reason===nn)if(x.nested)H.current=!1;else if(Yn(x.nativeEvent)||Kn(x.nativeEvent))H.current=!1;else{let N=!1;document.createElement("div").focus({get preventScroll(){return N=!0,!1}}),N?H.current=!1:H.current=!0}}j.on("openchange",q);const L=y.createElement("span");L.setAttribute("tabindex","-1"),L.setAttribute("aria-hidden","true"),Object.assign(L.style,Qt),ge&&S&&S.insertAdjacentElement("afterend",L);function $(){const x=K.current;let N=typeof x=="function"?x(Ee.current):x;if(N===void 0||N===!1)return null;if(N===null&&(N=!0),typeof N=="boolean"){const J=S||gt();return J&&J.isConnected?J:L}const le=S||gt()||L;return he(N)||le}return()=>{j.off("openchange",q);const x=we(y),N=Y(E,x)||G&&Ie(G.nodesRef.current,I(),!1).some(J=>Y(J.context?.elements.floating,x)),le=$();queueMicrotask(()=>{const J=os(le),Ce=typeof K.current!="boolean";K.current&&!H.current&&Te(J)&&(!(!Ce&&J!==x&&x!==y.body)||N)&&J.focus({preventScroll:!0}),L.remove()})}},[r,E,O,K,k,j,G,ge,S,I]),u.useEffect(()=>{queueMicrotask(()=>{H.current=!1})},[r]),u.useEffect(()=>{if(r||!T)return;function y(q){se(q)?.closest(`[${Sr}]`)&&(oe.current=!0)}const w=Z(O);return w.addEventListener("pointerdown",y,!0),()=>{w.removeEventListener("pointerdown",y,!0)}},[r,T,O]),_(()=>{if(!r&&F)return F.setFocusManagerState({modal:a,closeOnFocusOut:c,open:T,onOpenChange:C.setOpen,domReference:S}),()=>{F.setFocusManagerState(null)}},[r,F,a,T,C,c,S]),_(()=>{if(!(r||!O))return Ut(O,z),()=>{queueMicrotask(Tt)}},[r,O,z]);const A=!r&&(a?!W:!0)&&(ge||a);return d.jsxs(u.Fragment,{children:[A&&d.jsx(tt,{"data-type":"inside",ref:R,onFocus:y=>{if(a){const w=de();ft(w[w.length-1])}else F?.portalNode&&(H.current=!1,Ae(y,F.portalNode)?yn(S)?.focus():he(g??F.beforeOutsideRef)?.focus())}}),n,A&&d.jsx(tt,{"data-type":"inside",ref:X,onFocus:y=>{a?ft(de()[0]):F?.portalNode&&(c&&(H.current=!0),Ae(y,F.portalNode)?En(S)?.focus():he(p??F.afterOutsideRef)?.focus())}})]})}const ls={intentional:"onClick",sloppy:"onPointerDown"};function cs(t){return{escapeKey:typeof t=="boolean"?t:t?.escapeKey??!1,outsidePress:typeof t=="boolean"?t:t?.outsidePress??!0}}function us(t,e={}){const n="rootStore"in t?t.rootStore:t,r=n.useState("open"),s=n.useState("floatingElement"),o=n.useState("referenceElement"),i=n.useState("domReferenceElement"),{onOpenChange:l,dataRef:a}=n.context,{enabled:c=!0,escapeKey:m=!0,outsidePress:f=!0,outsidePressEvent:p="sloppy",referencePress:g=!1,referencePressEvent:b="sloppy",ancestorScroll:v=!1,bubbles:C,externalTree:T}=e,S=Cn(T),E=V(typeof f=="function"?f:()=>!1),j=typeof f=="function"?E:f,k=u.useRef(!1),{escapeKey:I,outsidePress:B}=cs(C),M=u.useRef(null),W=Ge(),z=Ge(),U=V(()=>{z.clear(),a.current.insideReactTree=!1}),K=u.useRef(!1),te=u.useRef(""),G=V(h=>{te.current=h.pointerType}),F=V(()=>{const h=te.current,P=h==="pen"||!h?"mouse":h,R=typeof p=="function"?p():p;return typeof R=="string"?R:R[P]}),ae=V(h=>{if(!r||!c||!m||h.key!=="Escape"||K.current)return;const P=a.current.floatingContext?.nodeId,R=S?Ie(S.nodesRef.current,P):[];if(!I&&R.length>0){let y=!0;if(R.forEach(w=>{w.context?.open&&!w.context.dataRef.current.__escapeKeyBubbles&&(y=!1)}),!y)return}const X=_n(h)?h.nativeEvent:h,A=ce(Gn,X);n.setOpen(!1,A),!I&&!A.isPropagationAllowed&&h.stopPropagation()}),lt=V(h=>{const P=F();return P==="intentional"&&h.type!=="click"||P==="sloppy"&&h.type==="click"}),H=V(()=>{a.current.insideReactTree=!0,z.start(0,U)}),oe=V((h,P=!1)=>{if(lt(h)){U();return}if(a.current.insideReactTree){U();return}if(F()==="intentional"&&P||typeof j=="function"&&!j(h))return;const R=se(h),X=`[${et("inert")}]`,A=Z(n.select("floatingElement")).querySelectorAll(X),y=n.context.triggerElements;if(R&&(y.hasElement(R)||y.hasMatchingElement(x=>Y(x,R))))return;let w=me(R)?R:null;for(;w&&!ut(w);){const x=Xn(w);if(ut(x)||!me(x))break;w=x}if(A.length&&me(R)&&!Zn(R)&&!Y(R,n.select("floatingElement"))&&Array.from(A).every(x=>!Y(w,x)))return;if(Te(R)&&!("touches"in h)){const x=ut(R),N=rn(R),le=/auto|scroll/,J=x||le.test(N.overflowX),Ce=x||le.test(N.overflowY),We=J&&R.clientWidth>0&&R.scrollWidth>R.clientWidth,ct=Ce&&R.clientHeight>0&&R.scrollHeight>R.clientHeight,ee=N.direction==="rtl",Pe=ct&&(ee?h.offsetX<=R.offsetWidth-R.clientWidth:h.offsetX>R.clientWidth),ze=We&&h.offsetY>R.clientHeight;if(Pe||ze)return}const q=a.current.floatingContext?.nodeId,L=S&&Ie(S.nodesRef.current,q).some(x=>re(h,x.context?.elements.floating));if(re(h,n.select("floatingElement"))||re(h,n.select("domReferenceElement"))||L)return;const $=S?Ie(S.nodesRef.current,q):[];if($.length>0){let x=!0;if($.forEach(N=>{N.context?.open&&!N.context.dataRef.current.__outsidePressBubbles&&(x=!1)}),!x)return}n.setOpen(!1,ce(nn,h)),U()}),ye=V(h=>{F()!=="sloppy"||h.pointerType==="touch"||!n.select("open")||!c||re(h,n.select("floatingElement"))||re(h,n.select("domReferenceElement"))||oe(h)}),Le=V(h=>{if(F()!=="sloppy"||!n.select("open")||!c||re(h,n.select("floatingElement"))||re(h,n.select("domReferenceElement")))return;const P=h.touches[0];P&&(M.current={startTime:Date.now(),startX:P.clientX,startY:P.clientY,dismissOnTouchEnd:!1,dismissOnMouseDown:!0},W.start(1e3,()=>{M.current&&(M.current.dismissOnTouchEnd=!1,M.current.dismissOnMouseDown=!1)}))}),Ee=V(h=>{const P=se(h);function R(){Le(h),P?.removeEventListener(h.type,R)}P?.addEventListener(h.type,R)}),ne=V(h=>{const P=k.current;if(k.current=!1,W.clear(),h.type==="mousedown"&&M.current&&!M.current.dismissOnMouseDown)return;const R=se(h);function X(){h.type==="pointerdown"?ye(h):oe(h,P),R?.removeEventListener(h.type,X)}R?.addEventListener(h.type,X)}),Ve=V(h=>{if(F()!=="sloppy"||!M.current||re(h,n.select("floatingElement"))||re(h,n.select("domReferenceElement")))return;const P=h.touches[0];if(!P)return;const R=Math.abs(P.clientX-M.current.startX),X=Math.abs(P.clientY-M.current.startY),A=Math.sqrt(R*R+X*X);A>5&&(M.current.dismissOnTouchEnd=!0),A>10&&(oe(h),W.clear(),M.current=null)}),Se=V(h=>{const P=se(h);function R(){Ve(h),P?.removeEventListener(h.type,R)}P?.addEventListener(h.type,R)}),Be=V(h=>{F()!=="sloppy"||!M.current||re(h,n.select("floatingElement"))||re(h,n.select("domReferenceElement"))||(M.current.dismissOnTouchEnd&&oe(h),W.clear(),M.current=null)}),ge=V(h=>{const P=se(h);function R(){Be(h),P?.removeEventListener(h.type,R)}P?.addEventListener(h.type,R)});u.useEffect(()=>{if(!r||!c)return;a.current.__escapeKeyBubbles=I,a.current.__outsidePressBubbles=B;const h=new xt;function P(w){n.setOpen(!1,ce(Qn,w))}function R(){h.clear(),K.current=!0}function X(){h.start(Jn()?5:0,()=>{K.current=!1})}const A=Z(s);A.addEventListener("pointerdown",G,!0),m&&(A.addEventListener("keydown",ae),A.addEventListener("compositionstart",R),A.addEventListener("compositionend",X)),j&&(A.addEventListener("click",ne,!0),A.addEventListener("pointerdown",ne,!0),A.addEventListener("touchstart",Ee,!0),A.addEventListener("touchmove",Se,!0),A.addEventListener("touchend",ge,!0),A.addEventListener("mousedown",ne,!0));let y=[];return v&&(me(i)&&(y=dt(i)),me(s)&&(y=y.concat(dt(s))),!me(o)&&o&&o.contextElement&&(y=y.concat(dt(o.contextElement)))),y=y.filter(w=>w!==A.defaultView?.visualViewport),y.forEach(w=>{w.addEventListener("scroll",P,{passive:!0})}),()=>{A.removeEventListener("pointerdown",G,!0),m&&(A.removeEventListener("keydown",ae),A.removeEventListener("compositionstart",R),A.removeEventListener("compositionend",X)),j&&(A.removeEventListener("click",ne,!0),A.removeEventListener("pointerdown",ne,!0),A.removeEventListener("touchstart",Ee,!0),A.removeEventListener("touchmove",Se,!0),A.removeEventListener("touchend",ge,!0),A.removeEventListener("mousedown",ne,!0)),y.forEach(w=>{w.removeEventListener("scroll",P)}),h.clear()}},[a,s,o,i,m,j,r,l,v,c,I,B,ae,oe,ne,ye,Ee,Se,ge,G,n]),u.useEffect(U,[j,U]);const O=u.useMemo(()=>({onKeyDown:ae,...g&&{[ls[b]]:h=>{n.setOpen(!1,ce(Ot,h.nativeEvent))},...b!=="intentional"&&{onClick(h){n.setOpen(!1,ce(Ot,h.nativeEvent))}}}}),[ae,n,g,b]),Q=V(h=>{const P=se(h.nativeEvent);!Y(n.select("floatingElement"),P)||h.button!==0||(k.current=!0)}),de=u.useMemo(()=>({onKeyDown:ae,onPointerDown:Q,onMouseDown:Q,onMouseUp:Q,onClickCapture:H,onMouseDownCapture:H,onPointerDownCapture:H,onMouseUpCapture:H,onTouchEndCapture:H,onTouchMoveCapture:H}),[ae,Q,H]);return u.useMemo(()=>c?{reference:O,floating:de,trigger:O}:{},[c,O,de])}var nt=Symbol("NOT_FOUND");function ds(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function fs(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function ps(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var qt=t=>Array.isArray(t)?t:[t];function gs(t){const e=Array.isArray(t[0])?t[0]:t;return ps(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function ms(t,e){const n=[],{length:r}=t;for(let s=0;s<r;s++)n.push(t[s].apply(null,e));return n}function hs(t){let e;return{get(n){return e&&t(e.key,n)?e.value:nt},put(n,r){e={key:n,value:r}},getEntries(){return e?[e]:[]},clear(){e=void 0}}}function bs(t,e){let n=[];function r(l){const a=n.findIndex(c=>e(l,c.key));if(a>-1){const c=n[a];return a>0&&(n.splice(a,1),n.unshift(c)),c.value}return nt}function s(l,a){r(l)===nt&&(n.unshift({key:l,value:a}),n.length>t&&n.pop())}function o(){return n}function i(){n=[]}return{get:r,put:s,getEntries:o,clear:i}}var vs=(t,e)=>t===e;function xs(t){return function(n,r){if(n===null||r===null||n.length!==r.length)return!1;const{length:s}=n;for(let o=0;o<s;o++)if(!t(n[o],r[o]))return!1;return!0}}function ys(t,e){const n=typeof e=="object"?e:{equalityCheck:e},{equalityCheck:r=vs,maxSize:s=1,resultEqualityCheck:o}=n,i=xs(r);let l=0;const a=s<=1?hs(i):bs(s,i);function c(){let m=a.get(arguments);if(m===nt){if(m=t.apply(null,arguments),l++,o){const p=a.getEntries().find(g=>o(g.value,m));p&&(m=p.value,l!==0&&l--)}a.put(arguments,m)}return m}return c.clearCache=()=>{a.clear(),c.resetResultsCount()},c.resultsCount=()=>l,c.resetResultsCount=()=>{l=0},c}var Es=class{constructor(t){this.value=t}deref(){return this.value}},Ss=typeof WeakRef<"u"?WeakRef:Es,Cs=0,$t=1;function Ke(){return{s:Cs,v:void 0,o:null,p:null}}function In(t,e={}){let n=Ke();const{resultEqualityCheck:r}=e;let s,o=0;function i(){let l=n;const{length:a}=arguments;for(let f=0,p=a;f<p;f++){const g=arguments[f];if(typeof g=="function"||typeof g=="object"&&g!==null){let b=l.o;b===null&&(l.o=b=new WeakMap);const v=b.get(g);v===void 0?(l=Ke(),b.set(g,l)):l=v}else{let b=l.p;b===null&&(l.p=b=new Map);const v=b.get(g);v===void 0?(l=Ke(),b.set(g,l)):l=v}}const c=l;let m;if(l.s===$t)m=l.v;else if(m=t.apply(null,arguments),o++,r){const f=s?.deref?.()??s;f!=null&&r(f,m)&&(m=f,o!==0&&o--),s=typeof m=="object"&&m!==null||typeof m=="function"?new Ss(m):m}return c.s=$t,c.v=m,m}return i.clearCache=()=>{n=Ke(),i.resetResultsCount()},i.resultsCount=()=>o,i.resetResultsCount=()=>{o=0},i}function kn(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...s)=>{let o=0,i=0,l,a={},c=s.pop();typeof c=="object"&&(a=c,c=s.pop()),ds(c,`createSelector expects an output function after the inputs, but received: [${typeof c}]`);const m={...n,...a},{memoize:f,memoizeOptions:p=[],argsMemoize:g=In,argsMemoizeOptions:b=[]}=m,v=qt(p),C=qt(b),T=gs(s),S=f(function(){return o++,c.apply(null,arguments)},...v),E=g(function(){i++;const k=ms(T,arguments);return l=S.apply(null,k),l},...C);return Object.assign(E,{resultFunc:c,memoizedResultFunc:S,dependencies:T,dependencyRecomputations:()=>i,resetDependencyRecomputations:()=>{i=0},lastResult:()=>l,recomputations:()=>o,resetRecomputations:()=>{o=0},memoize:f,argsMemoize:g})};return Object.assign(r,{withTypes:()=>r}),r}var Rs=kn(In),ws=Object.assign((t,e=Rs)=>{fs(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(o=>t[o]);return e(r,(...o)=>o.reduce((i,l,a)=>(i[n[a]]=l,i),{}))},{withTypes:()=>ws});kn({memoize:ys,memoizeOptions:{maxSize:1,equalityCheck:Object.is}});const D=(t,e,n,r,s,o,...i)=>{if(i.length>0)throw new Error(sn(1));let l;if(t)l=t;else throw new Error("Missing arguments");return l};var mt={exports:{}},ht={};var Yt;function Ts(){if(Yt)return ht;Yt=1;var t=Xt();function e(f,p){return f===p&&(f!==0||1/f===1/p)||f!==f&&p!==p}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,s=t.useEffect,o=t.useLayoutEffect,i=t.useDebugValue;function l(f,p){var g=p(),b=r({inst:{value:g,getSnapshot:p}}),v=b[0].inst,C=b[1];return o(function(){v.value=g,v.getSnapshot=p,a(v)&&C({inst:v})},[f,g,p]),s(function(){return a(v)&&C({inst:v}),f(function(){a(v)&&C({inst:v})})},[f]),i(g),g}function a(f){var p=f.getSnapshot;f=f.value;try{var g=p();return!n(f,g)}catch{return!0}}function c(f,p){return p()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?c:l;return ht.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:m,ht}var Kt;function On(){return Kt||(Kt=1,mt.exports=Ts()),mt.exports}var Is=On(),bt={exports:{}},vt={};var Ht;function ks(){if(Ht)return vt;Ht=1;var t=Xt(),e=On();function n(c,m){return c===m&&(c!==0||1/c===1/m)||c!==c&&m!==m}var r=typeof Object.is=="function"?Object.is:n,s=e.useSyncExternalStore,o=t.useRef,i=t.useEffect,l=t.useMemo,a=t.useDebugValue;return vt.useSyncExternalStoreWithSelector=function(c,m,f,p,g){var b=o(null);if(b.current===null){var v={hasValue:!1,value:null};b.current=v}else v=b.current;b=l(function(){function T(I){if(!S){if(S=!0,E=I,I=p(I),g!==void 0&&v.hasValue){var B=v.value;if(g(B,I))return j=B}return j=I}if(B=j,r(E,I))return B;var M=p(I);return g!==void 0&&g(B,M)?(E=I,B):(E=I,j=M)}var S=!1,E,j,k=f===void 0?null:f;return[function(){return T(m())},k===null?void 0:function(){return T(k())}]},[m,f,p,g]);var C=s(c,b[0],b[1]);return i(function(){v.hasValue=!0,v.value=C},[C]),a(C),C},vt}var _t;function Os(){return _t||(_t=1,bt.exports=ks()),bt.exports}var Ns=Os();const Ps=on(19),js=Ps?As:Fs;function Ms(t,e,n,r,s){return js(t,e,n,r,s)}function As(t,e,n,r,s){const o=u.useCallback(()=>e(t.getSnapshot(),n,r,s),[t,e,n,r,s]);return Is.useSyncExternalStore(t.subscribe,o,o)}function Fs(t,e,n,r,s){return Ns.useSyncExternalStoreWithSelector(t.subscribe,t.getSnapshot,t.getSnapshot,o=>e(o,n,r,s))}class Fe{constructor(e){this.state=e,this.listeners=new Set,this.updateTick=0}subscribe=e=>(this.listeners.add(e),()=>{this.listeners.delete(e)});getSnapshot=()=>this.state;setState(e){if(this.state===e)return;this.state=e,this.updateTick+=1;const n=this.updateTick;for(const r of this.listeners){if(n!==this.updateTick)return;r(e)}}update(e){for(const n in e)if(!Object.is(this.state[n],e[n])){Fe.prototype.setState.call(this,{...this.state,...e});return}}set(e,n){Object.is(this.state[e],n)||Fe.prototype.setState.call(this,{...this.state,[e]:n})}notifyAll(){const e={...this.state};Fe.prototype.setState.call(this,e)}}class Nn extends Fe{constructor(e,n={},r){super(e),this.context=n,this.selectors=r}controlledValues=new Map;useSyncedValue(e,n){u.useDebugValue(e),_(()=>{this.state[e]!==n&&this.set(e,n)},[e,n])}useSyncedValueWithCleanup(e,n){_(()=>(this.state[e]!==n&&this.set(e,n),()=>{this.set(e,void 0)}),[e,n])}useSyncedValues(e){const n=Object.values(e);_(()=>{this.update(e)},n)}useControlledProp(e,n,r){u.useDebugValue(e);const s=n!==void 0;this.controlledValues.has(e)||(this.controlledValues.set(e,s),!s&&!Object.is(this.state[e],r)&&super.setState({...this.state,[e]:r})),_(()=>{s&&!Object.is(this.state[e],n)&&super.setState({...this.state,[e]:n})},[e,n,r,s])}set(e,n){this.controlledValues.get(e)!==!0&&super.set(e,n)}update(e){const n={...e};for(const r in n)if(Object.hasOwn(n,r)&&this.controlledValues.get(r)===!0){delete n[r];continue}super.update(n)}setState(e){const n={...e};for(const r in n)if(Object.hasOwn(n,r)&&this.controlledValues.get(r)===!0){delete n[r];continue}super.setState({...this.state,...n})}select=(e,n,r,s)=>{const o=this.selectors[e];return o(this.state,n,r,s)};useState=(e,n,r,s)=>{u.useDebugValue(e);const o=this.selectors[e];return Ms(this,o,n,r,s)};useContextCallback(e,n){u.useDebugValue(e);const r=V(n??Zt);this.context[e]=r}useStateSetter(e){const n=u.useRef(void 0);return n.current===void 0&&(n.current=r=>{this.set(e,r)}),n.current}observe(e,n){let r;typeof e=="function"?r=e:r=this.selectors[e];let s=r(this.state);return n(s,s,this),this.subscribe(o=>{const i=r(o);if(!Object.is(s,i)){const l=s;s=i,n(i,l,this)}})}}const Ds={open:D(t=>t.open),domReferenceElement:D(t=>t.domReferenceElement),referenceElement:D(t=>t.positionReference??t.referenceElement),floatingElement:D(t=>t.floatingElement),floatingId:D(t=>t.floatingId)};class Pn extends Nn{constructor(e){const{nested:n,noEmit:r,onOpenChange:s,triggerElements:o,...i}=e;super({...i,positionReference:i.referenceElement,domReferenceElement:i.referenceElement},{onOpenChange:s,dataRef:{current:{}},events:_r(),nested:n,noEmit:r,triggerElements:o},Ds)}setOpen=(e,n)=>{if((!e||!this.state.open||er(n.event))&&(this.context.dataRef.current.openEvent=e?n.event:void 0),!this.context.noEmit){const r={open:e,reason:n.reason,nativeEvent:n.event,nested:this.context.nested,triggerElement:n.trigger};this.context.events.emit("openchange",r)}this.context.onOpenChange?.(e,n)}}function Ls(t,e=!1,n=!1){const[r,s]=u.useState(t&&e?"idle":void 0),[o,i]=u.useState(t);return t&&!o&&(i(!0),s("starting")),!t&&o&&r!=="ending"&&!n&&s("ending"),!t&&!o&&r==="ending"&&s(void 0),_(()=>{if(!t&&o&&r!=="ending"&&n){const l=ie.request(()=>{s("ending")});return()=>{ie.cancel(l)}}},[t,o,r,n]),_(()=>{if(!t||e)return;const l=ie.request(()=>{s(void 0)});return()=>{ie.cancel(l)}},[e,t]),_(()=>{if(!t||!e)return;t&&o&&r!=="idle"&&s("starting");const l=ie.request(()=>{s("idle")});return()=>{ie.cancel(l)}},[e,t,o,s,r]),u.useMemo(()=>({mounted:o,setMounted:i,transitionStatus:r}),[o,r])}function Vs(t,e=!1,n=!0){const r=dn();return V((s,o=null)=>{r.cancel();const i=he(t);i!=null&&(typeof i.getAnimations!="function"||globalThis.BASE_UI_ANIMATIONS_DISABLED?s():r.request(()=>{function l(){i&&Promise.all(i.getAnimations().map(a=>a.finished)).then(()=>{o!=null&&o.aborted||_e.flushSync(s)}).catch(()=>{if(n){if(o!=null&&o.aborted)return;_e.flushSync(s)}else i.getAnimations().length>0&&i.getAnimations().some(a=>a.pending||a.playState!=="finished")&&l()})}e?r.request(l):l()}))})}function jn(t){const{enabled:e=!0,open:n,ref:r,onComplete:s}=t,o=je(n),i=V(s),l=Vs(r,n);u.useEffect(()=>{e&&l(()=>{n===o.current&&i()})},[e,n,i,l,o])}function Bs(t){const e=t.useState("open");_(()=>{if(e&&!t.select("activeTriggerId")&&t.context.triggerElements.size===1){const n=t.context.triggerElements.entries().next();if(!n.done){const[r,s]=n.value;t.update({activeTriggerId:r,activeTriggerElement:s})}}},[e,t])}function Ws(t,e,n){const{mounted:r,setMounted:s,transitionStatus:o}=Ls(t);e.useSyncedValues({mounted:r,transitionStatus:o});const i=V(()=>{s(!1),e.update({activeTriggerId:null,activeTriggerElement:null,mounted:!1}),n?.(),e.context.onOpenChangeComplete?.(!1)}),l=e.useState("preventUnmountingOnClose");return jn({enabled:!l,open:t,ref:e.context.popupRef,onComplete(){t||i()}}),{forceUnmount:i,transitionStatus:o}}class Mn{constructor(){this.elements=new Set,this.idMap=new Map}add(e,n){const r=this.idMap.get(e);r!==n&&(r!==void 0&&this.elements.delete(r),this.elements.add(n),this.idMap.set(e,n))}delete(e){const n=this.idMap.get(e);n&&(this.elements.delete(n),this.idMap.delete(e))}hasElement(e){return this.elements.has(e)}hasMatchingElement(e){for(const n of this.elements)if(e(n))return!0;return!1}getById(e){return this.idMap.get(e)}entries(){return this.idMap.entries()}get size(){return this.idMap.size}}function zs(){return new Pn({open:!1,floatingElement:null,referenceElement:null,triggerElements:new Mn,floatingId:"",nested:!1,noEmit:!1,onOpenChange:void 0})}function Us(){return{open:!1,mounted:!1,transitionStatus:"idle",floatingRootContext:zs(),preventUnmountingOnClose:!1,payload:void 0,activeTriggerId:null,activeTriggerElement:null,popupElement:null,positionerElement:null,activeTriggerProps:Me,inactiveTriggerProps:Me,popupProps:Me}}const qs={open:D(t=>t.open),mounted:D(t=>t.mounted),transitionStatus:D(t=>t.transitionStatus),floatingRootContext:D(t=>t.floatingRootContext),preventUnmountingOnClose:D(t=>t.preventUnmountingOnClose),payload:D(t=>t.payload),activeTriggerId:D(t=>t.activeTriggerId),activeTriggerElement:D(t=>t.mounted?t.activeTriggerElement:null),isTriggerActive:D((t,e)=>e!==void 0&&t.activeTriggerId===e),isOpenedByTrigger:D((t,e)=>e!==void 0&&t.activeTriggerId===e&&t.open),isMountedByTrigger:D((t,e)=>e!==void 0&&t.activeTriggerId===e&&t.mounted),triggerProps:D((t,e)=>e?t.activeTriggerProps:t.inactiveTriggerProps),popupProps:D(t=>t.popupProps),popupElement:D(t=>t.popupElement),positionerElement:D(t=>t.positionerElement)};function $s(t){const{popupStore:e,noEmit:n=!1,treatPopupAsFloatingElement:r=!1,onOpenChange:s}=t,o=Rt(),i=Sn()!=null,l=e.useState("open"),a=e.useState("activeTriggerElement"),c=e.useState(r?"popupElement":"positionerElement"),m=e.context.triggerElements,f=st(()=>new Pn({open:l,referenceElement:a,floatingElement:c,triggerElements:m,onOpenChange:s,floatingId:o,nested:i,noEmit:n})).current;return _(()=>{const p={open:l,floatingId:o,referenceElement:a,floatingElement:c};me(a)&&(p.domReferenceElement=a),f.update(p)},[l,o,a,c,f]),f.context.onOpenChange=s,f.context.nested=i,f.context.noEmit=n,f}function Ys(t=[]){const e=t.map(c=>c?.reference),n=t.map(c=>c?.floating),r=t.map(c=>c?.item),s=t.map(c=>c?.trigger),o=u.useCallback(c=>He(c,t,"reference"),e),i=u.useCallback(c=>He(c,t,"floating"),n),l=u.useCallback(c=>He(c,t,"item"),r),a=u.useCallback(c=>He(c,t,"trigger"),s);return u.useMemo(()=>({getReferenceProps:o,getFloatingProps:i,getItemProps:l,getTriggerProps:a}),[o,i,l,a])}function He(t,e,n){const r=new Map,s=n==="item",o={};n==="floating"&&(o.tabIndex=-1,o[tr]="");for(const i in t)s&&t&&(i===an||i===ln)||(o[i]=t[i]);for(let i=0;i<e.length;i+=1){let l;const a=e[i]?.[n];typeof a=="function"?l=t?a(t):null:l=a,l&&Gt(o,l,s,r)}return Gt(o,t,s,r),o}function Gt(t,e,n,r){for(const s in e){const o=e[s];n&&(s===an||s===ln)||(s.startsWith("on")?(r.has(s)||r.set(s,[]),typeof o=="function"&&(r.get(s)?.push(o),t[s]=(...i)=>r.get(s)?.map(l=>l(...i)).find(l=>l!==void 0))):t[s]=o)}}const Ks=new Map([["select","listbox"],["combobox","listbox"],["label",!1]]);function Hs(t,e={}){const n="rootStore"in t?t.rootStore:t,r=n.useState("open"),s=n.useState("floatingId"),o=n.useState("domReferenceElement"),i=n.useState("floatingElement"),{enabled:l=!0,role:a="dialog"}=e,c=Rt(),m=o?.id||c,f=u.useMemo(()=>yt(i)?.id||s,[i,s]),p=Ks.get(a)??a,b=Sn()!=null,v=u.useMemo(()=>p==="tooltip"||a==="label"?Me:{"aria-haspopup":p==="alertdialog"?"dialog":p,"aria-expanded":"false",...p==="listbox"&&{role:"combobox"},...p==="menu"&&b&&{role:"menuitem"},...a==="select"&&{"aria-autocomplete":"none"},...a==="combobox"&&{"aria-autocomplete":"list"}},[p,b,a]),C=u.useMemo(()=>p==="tooltip"||a==="label"?{[`aria-${a==="label"?"labelledby":"describedby"}`]:r?f:void 0}:{...v,"aria-expanded":r?"true":"false","aria-controls":r?f:void 0,...p==="menu"&&{id:m}},[p,f,r,m,a,v]),T=u.useMemo(()=>{const E={id:f,...p&&{role:p}};return p==="tooltip"||a==="label"?E:{...E,...p==="menu"&&{"aria-labelledby":m}}},[p,f,m,a]),S=u.useCallback(({active:E,selected:j})=>{const k={role:"option",...E&&{id:`${f}-fui-option`}};switch(a){case"select":case"combobox":return{...k,"aria-selected":j}}return{}},[f,a]);return u.useMemo(()=>l?{reference:C,floating:T,item:S,trigger:v}:{},[l,C,T,v,S])}function _s(t){const e=u.useRef(""),n=u.useCallback(s=>{s.defaultPrevented||(e.current=s.pointerType,t(s,s.pointerType))},[t]);return{onClick:u.useCallback(s=>{if(s.detail===0){t(s,"keyboard");return}"pointerType"in s&&t(s,s.pointerType),t(s,e.current),e.current=""},[t]),onPointerDown:n}}function Gs(t){const[e,n]=u.useState(null),r=V((l,a)=>{t||n(a)}),s=u.useCallback(()=>{n(null)},[]),{onClick:o,onPointerDown:i}=_s(r);return u.useMemo(()=>({openMethod:e,reset:s,triggerProps:{onClick:o,onPointerDown:i}}),[e,s,o,i])}function Xs(t){const{store:e,parentContext:n,actionsRef:r}=t,s=e.useState("open"),o=e.useState("disablePointerDismissal"),i=e.useState("modal"),l=e.useState("popupElement"),{openMethod:a,triggerProps:c,reset:m}=Gs(s);Bs(e);const{forceUnmount:f}=Ws(s,e,()=>{m()}),p=V(z=>{const U=ce(z);return U.preventUnmountOnClose=()=>{e.set("preventUnmountingOnClose",!0)},U}),g=u.useCallback(()=>{e.setOpen(!1,p(nr))},[e,p]);u.useImperativeHandle(r,()=>({unmount:f,close:g}),[f,g]);const b=$s({popupStore:e,onOpenChange:e.setOpen,treatPopupAsFloatingElement:!0,noEmit:!0}),[v,C]=u.useState(0),T=v===0,S=Hs(b),E=us(b,{outsidePressEvent(){return e.context.internalBackdropRef.current||e.context.backdropRef.current?"intentional":{mouse:i==="trap-focus"?"sloppy":"intentional",touch:"sloppy"}},outsidePress(z){if("button"in z&&z.button!==0||"touches"in z&&z.touches.length!==1)return!1;const U=se(z);if(T&&!o){const K=U;return i&&(e.context.internalBackdropRef.current||e.context.backdropRef.current)?e.context.internalBackdropRef.current===K||e.context.backdropRef.current===K||Y(K,l)&&!K?.hasAttribute("data-base-ui-portal"):!0}return!1},escapeKey:T});Nr(s&&i===!0,l);const{getReferenceProps:j,getFloatingProps:k,getTriggerProps:I}=Ys([S,E]);e.useContextCallback("onNestedDialogOpen",z=>{C(z+1)}),e.useContextCallback("onNestedDialogClose",()=>{C(0)}),u.useEffect(()=>(n?.onNestedDialogOpen&&s&&n.onNestedDialogOpen(v),n?.onNestedDialogClose&&!s&&n.onNestedDialogClose(),()=>{n?.onNestedDialogClose&&s&&n.onNestedDialogClose()}),[s,n,v]);const B=u.useMemo(()=>j(c),[j,c]),M=u.useMemo(()=>I(c),[I,c]),W=u.useMemo(()=>k(),[k]);e.useSyncedValues({openMethod:a,activeTriggerProps:B,inactiveTriggerProps:M,popupProps:W,floatingRootContext:b,nestedOpenDialogCount:v})}const An=u.createContext(void 0);function xe(t){return u.useContext(An)}const Zs={...qs,modal:D(t=>t.modal),nested:D(t=>t.nested),nestedOpenDialogCount:D(t=>t.nestedOpenDialogCount),disablePointerDismissal:D(t=>t.disablePointerDismissal),openMethod:D(t=>t.openMethod),descriptionElementId:D(t=>t.descriptionElementId),titleElementId:D(t=>t.titleElementId),viewportElement:D(t=>t.viewportElement),role:D(t=>t.role)};class Js extends Nn{constructor(e){super(Qs(e),{popupRef:u.createRef(),backdropRef:u.createRef(),internalBackdropRef:u.createRef(),triggerElements:new Mn,onOpenChange:void 0,onOpenChangeComplete:void 0},Zs)}setOpen=(e,n)=>{if(n.preventUnmountOnClose=()=>{this.set("preventUnmountingOnClose",!0)},!e&&n.trigger==null&&this.state.activeTriggerId!=null&&(n.trigger=this.state.activeTriggerElement??void 0),this.context.onOpenChange?.(e,n),n.isCanceled)return;const r={open:e,nativeEvent:n.event,reason:n.reason,nested:this.state.nested};this.state.floatingRootContext.context.events?.emit("openchange",r);const s={open:e},o=n.trigger?.id??null;(o||e)&&(s.activeTriggerId=o,s.activeTriggerElement=n.trigger??null),this.update(s)}}function Qs(t={}){return{...Us(),modal:!0,disablePointerDismissal:!1,popupElement:null,viewportElement:null,descriptionElementId:void 0,titleElementId:void 0,openMethod:null,nested:!1,nestedOpenDialogCount:0,role:"dialog",...t}}function eo(t){const{children:e,open:n,defaultOpen:r=!1,onOpenChange:s,onOpenChangeComplete:o,actionsRef:i,handle:l,triggerId:a,defaultTriggerId:c=null}=t,m=xe(),f=!!m,p=st(()=>l?.store??new Js({open:n??r,activeTriggerId:a!==void 0?a:c,modal:!0,disablePointerDismissal:!0,nested:f,role:"alertdialog"})).current;p.useControlledProp("open",n,r),p.useControlledProp("activeTriggerId",a,c),p.useSyncedValue("nested",f),p.useContextCallback("onOpenChange",s),p.useContextCallback("onOpenChangeComplete",o);const g=p.useState("payload");Xs({store:p,actionsRef:i,parentContext:m?.store.context});const b=u.useMemo(()=>({store:p}),[p]);return d.jsx(An.Provider,{value:b,children:typeof e=="function"?e({payload:g}):e})}let rt=(function(t){return t.startingStyle="data-starting-style",t.endingStyle="data-ending-style",t})({});const to={[rt.startingStyle]:""},no={[rt.endingStyle]:""},Fn={transitionStatus(t){return t==="starting"?to:t==="ending"?no:null}};let be=(function(t){return t.open="data-open",t.closed="data-closed",t[t.startingStyle=rt.startingStyle]="startingStyle",t[t.endingStyle=rt.endingStyle]="endingStyle",t.anchorHidden="data-anchor-hidden",t})({});const ro={[be.open]:""},so={[be.closed]:""},oo={[be.anchorHidden]:""},Dn={open(t){return t?ro:so},anchorHidden(t){return t?oo:null}},io={...Dn,...Fn},ao=u.forwardRef(function(e,n){const{render:r,className:s,forceRender:o=!1,...i}=e,{store:l}=xe(),a=l.useState("open"),c=l.useState("nested"),m=l.useState("mounted"),f=l.useState("transitionStatus"),p=u.useMemo(()=>({open:a,transitionStatus:f}),[a,f]);return Ne("div",e,{state:p,ref:[l.context.backdropRef,n],stateAttributesMapping:io,props:[{role:"presentation",hidden:!m,style:{userSelect:"none",WebkitUserSelect:"none"}},i],enabled:o||!c})}),lo=u.forwardRef(function(e,n){const{render:r,className:s,disabled:o=!1,nativeButton:i=!0,...l}=e,{store:a}=xe(),c=a.useState("open");function m(b){c&&a.setOpen(!1,ce(sr,b.nativeEvent))}const{getButtonProps:f,buttonRef:p}=rr({disabled:o,native:i}),g=u.useMemo(()=>({disabled:o}),[o]);return Ne("button",e,{state:g,ref:[n,p],props:[{onClick:m},l,f]})}),co=u.forwardRef(function(e,n){const{render:r,className:s,id:o,...i}=e,{store:l}=xe(),a=cn(o);return l.useSyncedValueWithCleanup("descriptionElementId",a),Ne("p",e,{ref:n,props:[{id:a},i]})});let uo=(function(t){return t.nestedDialogs="--nested-dialogs",t})({}),fo=(function(t){return t[t.open=be.open]="open",t[t.closed=be.closed]="closed",t[t.startingStyle=be.startingStyle]="startingStyle",t[t.endingStyle=be.endingStyle]="endingStyle",t.nested="data-nested",t.nestedDialogOpen="data-nested-dialog-open",t})({});const Ln=u.createContext(void 0);function po(){const t=u.useContext(Ln);if(t===void 0)throw new Error(sn(26));return t}const go={...Dn,...Fn,nestedDialogOpen(t){return t?{[fo.nestedDialogOpen]:""}:null}},mo=u.forwardRef(function(e,n){const{className:r,finalFocus:s,initialFocus:o,render:i,...l}=e,{store:a}=xe(),c=a.useState("descriptionElementId"),m=a.useState("disablePointerDismissal"),f=a.useState("floatingRootContext"),p=a.useState("popupProps"),g=a.useState("modal"),b=a.useState("mounted"),v=a.useState("nested"),C=a.useState("nestedOpenDialogCount"),T=a.useState("open"),S=a.useState("openMethod"),E=a.useState("titleElementId"),j=a.useState("transitionStatus"),k=a.useState("role");po(),jn({open:T,ref:a.context.popupRef,onComplete(){T&&a.context.onOpenChangeComplete?.(!0)}});function I(U){return U==="touch"?a.context.popupRef.current:!0}const B=o===void 0?I:o,M=C>0,W=u.useMemo(()=>({open:T,nested:v,transitionStatus:j,nestedDialogOpen:M}),[T,v,j,M]),z=Ne("div",e,{state:W,props:[p,{"aria-labelledby":E??void 0,"aria-describedby":c??void 0,role:k,tabIndex:-1,hidden:!b,onKeyDown(U){or.has(U.key)&&U.stopPropagation()},style:{[uo.nestedDialogs]:C}},l],ref:[n,a.context.popupRef,a.useStateSetter("popupElement")],stateAttributesMapping:go});return d.jsx(as,{context:f,openInteractionType:S,disabled:!b,closeOnFocusOut:!m,initialFocus:B,returnFocus:s,modal:g!==!1,restoreFocus:"popup",children:z})});function ho(t){return on(19)?t:t?"true":void 0}const bo=u.forwardRef(function(e,n){const{cutout:r,...s}=e;let o;if(r){const i=r?.getBoundingClientRect();o=`polygon(
      0% 0%,
      100% 0%,
      100% 100%,
      0% 100%,
      0% 0%,
      ${i.left}px ${i.top}px,
      ${i.left}px ${i.bottom}px,
      ${i.right}px ${i.bottom}px,
      ${i.right}px ${i.top}px,
      ${i.left}px ${i.top}px
    )`}return d.jsx("div",{ref:n,role:"presentation","data-base-ui-inert":"",...s,style:{position:"fixed",inset:0,userSelect:"none",WebkitUserSelect:"none",clipPath:o}})}),vo=u.forwardRef(function(e,n){const{keepMounted:r=!1,...s}=e,{store:o}=xe(),i=o.useState("mounted"),l=o.useState("modal");return i||r?d.jsx(Ln.Provider,{value:r,children:d.jsxs(ns,{ref:n,...s,children:[i&&l===!0&&d.jsx(bo,{ref:o.context.internalBackdropRef,inert:ho(!open)}),e.children]})}):null}),xo=u.forwardRef(function(e,n){const{render:r,className:s,id:o,...i}=e,{store:l}=xe(),a=cn(o);return l.useSyncedValueWithCleanup("titleElementId",a),Ne("h2",e,{ref:n,props:[{id:a},i]})});function yo({...t}){return d.jsx(eo,{"data-slot":"alert-dialog",...t})}function Eo({...t}){return d.jsx(vo,{"data-slot":"alert-dialog-portal",...t})}function So({className:t,...e}){return d.jsx(ao,{"data-slot":"alert-dialog-overlay",className:ve("data-open:animate-in data-closed:animate-out data-closed:fade-out-0 data-open:fade-in-0 bg-black/10 duration-100 supports-backdrop-filter:backdrop-blur-xs fixed inset-0 isolate z-50",t),...e})}function Co({className:t,size:e="default",...n}){return d.jsxs(Eo,{children:[d.jsx(So,{}),d.jsx(mo,{"data-slot":"alert-dialog-content","data-size":e,className:ve("data-open:animate-in data-closed:animate-out data-closed:fade-out-0 data-open:fade-in-0 data-closed:zoom-out-95 data-open:zoom-in-95 bg-background ring-foreground/10 gap-4 rounded-xl p-4 ring-1 duration-100 data-[size=default]:max-w-xs data-[size=sm]:max-w-xs data-[size=default]:sm:max-w-sm group/alert-dialog-content fixed top-1/2 left-1/2 z-50 grid w-full -translate-x-1/2 -translate-y-1/2 outline-none",t),...n})]})}function Ro({className:t,...e}){return d.jsx("div",{"data-slot":"alert-dialog-footer",className:ve("bg-muted/50 -mx-4 -mb-4 rounded-b-xl border-t p-4 flex flex-col-reverse gap-2 group-data-[size=sm]/alert-dialog-content:grid group-data-[size=sm]/alert-dialog-content:grid-cols-2 sm:flex-row sm:justify-end",t),...e})}function wo({className:t,...e}){return d.jsx(xo,{"data-slot":"alert-dialog-title",className:ve("text-sm font-medium sm:group-data-[size=default]/alert-dialog-content:group-has-data-[slot=alert-dialog-media]/alert-dialog-content:col-start-2",t),...e})}function To({className:t,...e}){return d.jsx(co,{"data-slot":"alert-dialog-description",className:ve("text-muted-foreground *:[a]:hover:text-foreground text-sm text-balance md:text-pretty *:[a]:underline *:[a]:underline-offset-3",t),...e})}function Io({className:t,variant:e="outline",size:n="default",...r}){return d.jsx(lo,{"data-slot":"alert-dialog-cancel",className:ve(t),render:d.jsx(wt,{variant:e,size:n}),...r})}function ko({bond:t,open:e,onOpenChange:n,onInvest:r}){const[s,o]=u.useState(""),{address:i,isConnected:l}=ir(),{writeContract:a,data:c,isPending:m,error:f}=Nt(),{writeContract:p,data:g,isPending:b,error:v}=Nt(),{isLoading:C,isSuccess:T}=Pt({hash:c}),{isLoading:S,isSuccess:E}=Pt({hash:g}),j=parseFloat(s)||0,k=j*t.apr/100,{data:I,refetch:B}=ar({address:Re.MockUSDC.address,abi:jt,functionName:"allowance",args:i?[i,Re.LiquidityPool.address]:void 0,query:{enabled:!!i&&e}}),M=u.useMemo(()=>{try{return lr(s,18)}catch{return 0n}},[s]),W=I?I>=M:!1;u.useEffect(()=>{T&&(fe.success("USDC Approved successfully!"),B())},[T,B]),u.useEffect(()=>{E&&(fe.success("Investment successful!",{description:`You have successfully invested ${s} USDC in ${t.title}.`}),r(j),n(!1),o(""))},[E]),u.useEffect(()=>{f&&fe.error(`Approval failed: ${f.message}`),v&&fe.error(`Investment failed: ${v.message}`)},[f,v]);const z=()=>{if(!i){fe.error("Please connect your wallet first.");return}if(!(j<=0))if(!W)a({address:Re.MockUSDC.address,abi:jt,functionName:"approve",args:[Re.LiquidityPool.address,M]});else{const te=BigInt(t.id);p({address:Re.LiquidityPool.address,abi:Re.LiquidityPool.abi,functionName:"purchaseBond",args:[te,M]})}},U=m||C||b||S;let K="Confirm Investment";return m||C?K="Approving USDC...":W?(b||S)&&(K="Purchasing Bond..."):K="Approve USDC",d.jsx(yo,{open:e,onOpenChange:n,children:d.jsxs(Co,{className:"sm:max-w-[480px] p-0 overflow-hidden border-none shadow-2xl",children:[d.jsxs("div",{className:"bg-neutral-900 p-6 text-white",children:[d.jsxs("div",{className:"flex justify-between items-start mb-4",children:[d.jsx(Et,{className:"bg-white/10 text-white border-white/20 backdrop-blur-md",children:t.category}),d.jsxs("div",{className:"flex items-center gap-1.5 text-green-400",children:[d.jsx(ue,{icon:cr,size:16}),d.jsxs("span",{className:"text-sm font-bold",children:[t.apr,"% APR"]})]})]}),d.jsxs(wo,{className:"text-2xl font-black tracking-tight leading-tight mb-2",children:["Invest in ",t.title]}),d.jsx(To,{className:"text-neutral-400 text-sm italic",children:t.description})]}),d.jsxs("div",{className:"p-6 space-y-6 bg-white",children:[d.jsxs("div",{className:"grid grid-cols-2 gap-4 py-4 px-4 bg-neutral-50 rounded-2xl border border-neutral-100",children:[d.jsxs("div",{className:"space-y-1",children:[d.jsx("p",{className:"text-[10px] font-bold uppercase tracking-wider text-neutral-400",children:"Term"}),d.jsxs("div",{className:"flex items-center gap-1.5 text-neutral-900 font-bold",children:[d.jsx(ue,{icon:un,size:16}),t.term]})]}),d.jsxs("div",{className:"space-y-1",children:[d.jsx("p",{className:"text-[10px] font-bold uppercase tracking-wider text-neutral-400",children:"Remaining"}),d.jsxs("div",{className:"flex items-center gap-1.5 text-neutral-900 font-bold",children:[d.jsx(ue,{icon:ur,size:16}),t.remainingAmount]})]})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(dr,{htmlFor:"amount",className:"text-xs font-black uppercase tracking-widest text-neutral-400",children:"Investment Amount (USDC)"}),d.jsxs("div",{className:"relative",children:[d.jsx(fr,{id:"amount",type:"number",placeholder:"0.00",className:"h-14 text-lg font-bold rounded-xl border-neutral-200 focus:ring-neutral-900 pl-4 pr-16",value:s,onChange:te=>o(te.target.value),disabled:U}),d.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-xs font-bold text-neutral-400",children:"USDC"})]})]}),d.jsxs("div",{className:"p-4 bg-blue-50/50 rounded-xl border border-blue-100/50 space-y-2",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("span",{className:"text-xs font-bold text-blue-600 flex items-center gap-1.5",children:[d.jsx(ue,{icon:pr,size:14}),"Estimated Annual Yield"]}),d.jsxs("span",{className:"text-sm font-black text-blue-700",children:["+ $",k.toLocaleString(void 0,{minimumFractionDigits:2})]})]}),d.jsxs("p",{className:"text-[10px] text-blue-500 italic",children:["* Calculated based on ",t.apr,"% APR. Actual returns may vary."]})]})]})]}),d.jsxs(Ro,{className:"p-4 bg-neutral-50 border-t border-neutral-100 gap-3",children:[d.jsx(Io,{className:"rounded-xl font-bold h-12 flex-1 hover:bg-white transition-all",disabled:U,children:"Cancel"}),d.jsxs(wt,{onClick:te=>{te.preventDefault(),z()},disabled:j<=0||U||!l,className:"rounded-xl font-bold h-12 flex-1 bg-neutral-900 hover:bg-black text-white hover:shadow-lg transition-all disabled:opacity-50 gap-2",children:[U&&d.jsx(ue,{icon:gr,className:"animate-spin",size:18}),E?"Unbelievable Success!":K]})]})]})})}function jo({bond:t}){const[e,n]=u.useState(!1),r=Vn(),s=(1-parseFloat(t.remainingAmount.replace(/[^0-9.]/g,""))/parseFloat(t.totalAmount.replace(/[^0-9.]/g,"")))*100,o=i=>{r.submit({amount:i.toString(),bondId:t.id},{method:"post",action:"/bonds"})};return u.useEffect(()=>{r.state==="submitting"&&fe.loading(`Processing investment for ${t.title}...`,{id:"invest-loading"}),r.state==="idle"&&r.data&&(fe.dismiss("invest-loading"),fe.success("Investment successful!",{description:"You've successfully invested across Creditcoin."}),n(!1))},[r.state,r.data,t.title]),d.jsxs(d.Fragment,{children:[d.jsxs(mr,{className:"group overflow-hidden border-neutral-200/60 hover:border-neutral-900/10 hover:shadow-2xl hover:shadow-neutral-200/50 transition-all duration-300 bg-white",children:[d.jsx(hr,{className:"p-0",children:d.jsxs("div",{className:"relative h-48 overflow-hidden bg-neutral-900",children:[d.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-neutral-800 to-neutral-950 opacity-90 transition-transform duration-500 group-hover:scale-105"}),d.jsx("div",{className:"absolute inset-0 flex items-center justify-center p-8",children:d.jsxs("div",{className:"text-center space-y-2",children:[d.jsx(Et,{className:"bg-white/10 text-white border-white/20 backdrop-blur-md mb-2",children:t.category}),d.jsx("h3",{className:"text-xl font-bold text-white tracking-tight leading-tight",children:t.title})]})}),d.jsx("div",{className:"absolute top-4 right-4 focus-visible:outline-none",children:d.jsx(Et,{variant:t.status==="active"?"default":"secondary",className:ve("shadow-sm",t.status==="active"?"bg-green-500 hover:bg-green-600 border-none":""),children:t.status.toUpperCase()})})]})}),d.jsxs(br,{className:"p-6 space-y-6",children:[d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{className:"space-y-1",children:[d.jsx("p",{className:"text-[10px] font-bold uppercase tracking-wider text-neutral-400",children:"Target yield"}),d.jsxs("div",{className:"flex items-center gap-1.5 text-neutral-900",children:[d.jsx(ue,{icon:vr,size:18,className:"text-neutral-900"}),d.jsxs("p",{className:"text-lg font-bold",children:[t.apr,"% ",d.jsx("span",{className:"text-xs font-normal text-neutral-500",children:"APR"})]})]})]}),d.jsxs("div",{className:"space-y-1",children:[d.jsx("p",{className:"text-[10px] font-bold uppercase tracking-wider text-neutral-400",children:"Duration"}),d.jsxs("div",{className:"flex items-center gap-1.5 text-neutral-900",children:[d.jsx(ue,{icon:un,size:18,className:"text-neutral-600"}),d.jsx("p",{className:"text-lg font-bold",children:t.term})]})]})]}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"flex justify-between items-end",children:[d.jsxs("div",{className:"space-y-0.5",children:[d.jsx("p",{className:"text-[10px] font-bold uppercase tracking-wider text-neutral-400",children:"Funding Progress"}),d.jsxs("p",{className:"text-sm font-bold text-neutral-900",children:[((100-s)/10).toFixed(1),"M remaining"]})]}),d.jsxs("p",{className:"text-sm font-black text-neutral-900",children:[Math.round(s),"%"]})]}),d.jsx("div",{className:"h-1.5 w-full bg-neutral-100 rounded-full overflow-hidden",children:d.jsx("div",{className:"h-full bg-neutral-900 rounded-full transition-all duration-1000 ease-out",style:{width:`${s}%`}})})]}),d.jsxs("div",{className:"flex items-center gap-2 text-neutral-500 pt-2 border-t border-neutral-100",children:[d.jsx(ue,{icon:xr,size:16}),d.jsx("span",{className:"text-xs font-medium",children:t.location})]})]}),d.jsx(yr,{className:"px-6 pb-6 pt-0",children:d.jsxs(wt,{onClick:()=>n(!0),className:"w-full group/btn rounded-xl bg-neutral-900 hover:bg-black text-white py-6 h-auto transition-all",children:[d.jsx("span",{children:"Invest Now"}),d.jsx(ue,{icon:Er,size:18,className:"ml-2 transition-transform group-hover/btn:translate-x-1"})]})})]}),d.jsx(ko,{bond:t,open:e,onOpenChange:n,onInvest:o})]})}export{jo as B,Rs as c,Ns as w};

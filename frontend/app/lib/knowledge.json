[
  {
    "source": "core/01_BOND-BASE_CHOONSIM_INTEGRATION_PLAN.md",
    "content": "# [기획서] BondBase x 춘심 AI-Talk: 글로벌 IP 기반 RWA 혁신 모델\n\n## 1. 프로젝트 비전\n**\"금융의 감성적 대중화와 IP 가치의 온체인 자산화\"**\n본 프로젝트는 기존의 딱딱한 금융 자산 위주였던 BondBase RWA 프로토콜을, 강력한 글로벌 팬덤을 보유한 '춘심(Choonsim)' IP와 결합하여 **IP 수익권 기반의 차세대 RWA 런치패드**로 재구성하는 것을 목표로 합니다.\n\n## 2. 시장 기회를 활용한 글로벌 유동성 전략\n\n춘심 프로젝트의 핵심 자산은 **일본과 남미 지역이 70% 이상을 차지하는 거대하고 충성도 높은 글로벌 팬덤**입니다. 본 모델은 이 두 지역의 상반된 금융 니즈를 BondBase의 RWA 기술로 해결합니다.\n\n### 2.1 남미 시장: \"자산 보호의 수단으로서의 RWA\"\n브라질, 아르헨티나 등 남미 팬들은 고질적인 자국 화폐 가치 하락(인플레이션)에 매우 민감합니다. \n- **전략**: 춘심 AI-Talk 수익권을 스테이블코인(USDC 등) 기반 RWA로 제공하여 팬들이 춘심이를 응원하는 동시에 자신의 자산을 안정적인 가치에 묶어둘 수 있는 **'감성적 헤지(Hedge)'** 수단을 제공합니다. \n\n### 2.2 일본 시장: \"초저금리 대안인 수집형 투자 문화\"\n일본 팬들은 세계 최고 수준의 캐릭터 충성도를 지니고 있지만, 은행의 극히 낮은 금리에는 불만족하고 있습니다.\n- **전략**: 높은 금리뿐만 아니라 **'성장하는 캐릭터와 함께하는 장기 투자'**라는 정서적 가치를 병합합니다. RWA 토큰 보유자에게 한정판 디지털 자산(NFT)이나 굿즈 우선권을 결합하여 투자를 하나의 '놀이와 수집'의 영역으로 확장합니다.\n\n### 2.3 Cross-Border Yield: 글로벌 유동성의 선순환\n남미와 일본 팬들이 춘심 성장 채권에 투자한 자금은 BondBase 프로토콜을 통해 다음과 같이 운용됩니다.\n1. **유동성 확보**: 글로벌 팬덤으로부터 즉각적인 대규모 유동성 확보.\n2. **실물 운용**: 해당 자금을 태국 및 신흥 시장의 고수익 소상공인 대출 채권에 운용하여 실질적인 수익률(Real Yield) 확보.\n3. **가치 환원**: 발생한 수익을 다시 춘심이의 이름으로 전 세계 팬들에게 배당함으로써, 춘심이가 **\"팬들의 관심을 모아 성장이 필요한 곳에 힘을 실어주는 메신저\"**가 되게 함.\n\n## 3. 핵심 아키텍처: Choonsim Growth Bond\n\n### 3.1 자산의 정의 (Underlying Asset)\n단순한 가상 에셋이 아닌, 실제 발생하는 **프로젝트 현금 흐름**을 자산화합니다. \n- **수익원**: 춘심 AI-Talk 서비스의 월 구독료, IP 라이선스 로열티, 글로벌 굿즈 판매 매출 및 이벤트 수익.\n- **토큰화**: BondBase의 ERC-1155 기술을 사용하여 미래 수익권을 분할 발행합니다. 투자자는 '채권'을 구매하는 동시에 '춘심이의 미래'를 공동 소유하게 됩니다.\n\n### 3.2 수익률(Yield) 및 보상 구조\n기존 태국 채권이 '대출 이자'만을 수익원으로 했다면, 춘심 RWA는 팬덤 비즈니스의 특성을 반영한 다중 수익 체계를 가집니다.\n1. **구독 매출 배당 (Revenue Share)**: 실제 발생하는 월 매출의 일정 비율을 스마트 컨트랙트를 통해 투명하게 배당.\n2. **마일스톤 보너스 (Milestone Bonus)**: 프로젝트의 성장을 홀더와 축하하기 위해 X 팔로워 특정 수치 달성, 신규 국가 진출, 앱 다운로드 기록 경신 시 특별 배당금을 지급.\n\n### 3.3 투자자 혜택 (Loyalty & Synergy)\n투자자를 단순히 돈을 빌려준 사람이 아닌 'VIP 팬'으로 대우합니다.\n- **감성적 임팩트 리포팅**: 춘심 AI-Talk 대화 중에 춘심이가 직접 본인의 성장 소식과 배당 발생 소식을 감성적으로 전달합니다. (\"우리 투자 덕분에 태국 카페 사장님이 새 기계를 들이셨대! 정말 뿌듯해!\")\n- **홀더 전용 대화 채널**: 일정 수량 이상의 토큰 보유 시에만 열리는 춘심이와의 심층 대화 페르소나 적용.\n- **거버넌스 참여**: 춘심이의 다음 시즌 코스튬이나 신규 대화 컨셉 결정 시 투자 지분에 따른 투표권 행사.\n\n## 4. BondBase 프로토콜의 역할 변화 및 가치\n\n본 모델이 도입되면 BondBase는 단순 중개 플랫폼에서 **\"AI/IP 엑셀러레이팅 런치패드\"**로 진화합니다.\n- **신뢰 보증**: 춘심 프로젝트의 매출 데이터를 온체인(Creditcoin 2.0 Oracle 등)에 실시간으로 기록하여 배당금의 정당성을 블록체인으로 증명.\n- **진입 장벽 완화**: 춘심이라는 친숙한 캐릭터를 메신저로 활용하여 일반인들이 기술적 어려움 없이 RWA 투자에 진입하도록 유도.\n\n## 5. 기대 효과\n1. **유동성 문제 해결**: 캐릭터 팬덤을 통한 즉각적인 글로벌 유동성(Liquidity) 확보.\n2. **투자 장벽 완화**: 춘심이라는 친숙한 메신저를 통해 어려운 RWA 금융 개념을 감성적으로 전달.\n3. **ESG 시너지**: 글로벌 팬덤의 자금이 춘심이를 거쳐 태국 소상공인 등의 실물 경제 지원으로 이어지는 선순환 구조 구축.\n\n---\n**작성일**: 2026-01-24\n**작성자**: Antigravity (on behalf of Project BondBase)\n"
  },
  {
    "source": "core/03_INFRASTRUCTURE_ENVIRONMENT.md",
    "content": "# [기능 명세] 인프라 및 개발 환경 (Infrastructure & Environment)\n\n본 문서는 BondBase 프로젝트의 네트워크 설정, 외부 서비스 엔드포인트 및 배포 환경에 대한 최신 정보를 관리합니다.\n\n## 1. Blockchain Network (Creditcoin 2.0)\n\n현재 스마트 컨트랙트 배포 및 테스트를 위해 **Creditcoin 3.0 (CC3) Testnet**을 사용합니다.\n\n- **Network Name**: `creditcoin-testnet`\n- **RPC URL**: `https://rpc.cc3-testnet.creditcoin.network`\n- **Chain ID**: `102031`\n- **Currency**: `CTC` (Testnet)\n- **Explorer**: [Creditcoin Explorer](https://explorer.creditcoin.org)\n- **Primary Wallet Address**: `0xf42138298fa1Fc8514BC17D59eBB451AceF3cDBa`\n- **Contract Environment**: Hardhat / Foundry (EVM Compatible)\n\n## 2. Database & Storage\n\n데이터 무결성 및 고성능 조회를 위해 하이브리드 저장 구조를 사용합니다.\n\n- **Primary Database**: Turso (libSQL/SQLite)\n- **ORM**: Drizzle ORM\n- **Media Storage**: Cloudinary (이미지 및 영상 자산 호스팅)\n- **Vector Search**: Turso Vector Search (RAG 시스템용)\n\n## 3. Backend & API Services\n\n- **Runtime**: Node.js 18+ (TypeScript)\n- **Hosting**: Vercel (Node.js Edge Runtime 또는 API Routes)\n- **Authentication**: Better Auth (Session-based)\n- **Oracle**: Creditcoin Universal Oracle (실물 자산 데이터 연동용)\n\n## 4. Tokenomics (Choonsim Growth Model)\n\n춘심 프로젝트의 지속 가능성과 경제적 안정을 위해 다음 세 가지 자산이 상호 보완적으로 작동합니다.\n\n- **Native Coin (CTC)**: Creditcoin 네트워크의 연료입니다. 모든 트랜잭션 수수료(Gas Fee)를 지불하는 데 사용되며, 네트워크의 보안과 처리 속도를 보장합니다.\n- **ERC-1155 (ChoonsimBond)**: 단순한 코인이 아닌 '특정한 권리'가 담긴 증서입니다. 춘심이의 성장에 대한 수익권(Revenue Share Right)과 거버넌스 투표권, 한정판 대화 권한 등을 포함하는 다기능 토큰으로, 각 마일스톤이나 자산 등급별로 세밀하게 발행됩니다.\n- **ERC-20 (MockUSDC)**: 실제 경제 활동의 척도가 되는 스테이블코인입니다. CTC의 가격 변동성에 영향받지 않고, 투자자가 투입한 금액과 돌려받을 배당금(Yield)을 안정적인 법정화폐 가치에 고정하여 지급하기 위한 기초 통화로 활용됩니다.\n\n## 5. Frontend Environment\n\n- **Framework**: React Router v7 (Vite)\n- **Styling**: Tailwind CSS v4\n- **Date/Time Standard**: **Luxon** (Asia/Seoul 기준 우선 처리)\n- **Hosting**: Vercel\n\n## 5. Deployment Status (Current)\n\n| Module | Env | Status | Last Deployment |\n| :--- | :--- | :--- | :--- |\n| Smart Contracts | Testnet | Active (v2) | 2026-01-24 |\n| Dashboard App | Dev | Active | 2026-01-24 |\n| RAG Engine | Dev | Integrated | 2026-01-24 |\n\n---\n**보안 공지**: 모든 비밀 키(Private Keys) 및 API 토큰은 `.env.local` 또는 서버 환경 변수(Vercel Dashboard)에서 관리하며, 절대 Git에 포함하지 않습니다.\n"
  },
  {
    "source": "core/05_CHOONSIM_AUDIT_DATA_INTEGRITY_DESIGN.md",
    "content": "# [기술 설계] 신뢰 기반 데이터 무결성 검증 (Audit) 시스템 상세 설계\n\n본 문서는 BondBase 프로젝트의 Phase 2 핵심 과제인 '데이터 무결성 검증' 시스템의 아키텍처와 상세 로직을 정의합니다. 본 시스템은 \"BondBase 백엔드가 매출 데이터를 임의로 조작할 수 있는가?\"라는 투자자의 근본적인 의구심을 기술적으로 해결합니다.\n\n## 1. 설계 철학: \"Trust, but Verify\" (신뢰하되 검증하라)\n\nPhase 1에서는 외부 프로젝트(춘심 AI-Talk)로부터 매출 데이터를 직접 수신하여 기록하는 데 집중했습니다. Phase 2에서는 **Creditcoin Universal Oracle (CUO)**을 도입하여, 기록된 데이터가 원천 데이터(Source of Truth)와 일치하는지를 제3의 검증자(Oracle)가 확증하는 단계를 추가합니다.\n\n## 2. 오라클 시스템 아키텍처 (The Auditor)\n\n검증 시스템은 다음 세 단계의 '증명 파이프라인'을 거칩니다.\n\n### 2.1 Trigger: 검증 요청의 자동 생성\n- **발생 시점**: BondBase 백엔드 API(`api/revenue`)에 새로운 매출 데이터가 수신되는 즉시 작동합니다.\n- **작동 방식**: 백엔드는 수신된 데이터를 DB에 기록함과 동시에, Creditcoin 네트워크 상의 오라클 컨트랙트에 '검증 요청 트랜잭션'을 보냅니다.\n- **포함 정보**: 검증할 매출 ID, 요청 금액, 원천 데이터 소스(예: PayPal Transaction ID 또는 결제 서버 API 엔드포인트).\n\n### 2.2 Verification: 독립적인 교차 검증 (Zero-Trust Isolation)\n- **검증 주체**: **Creditcoin Universal Oracle (CUO)** 노드.\n- **핵심 원칙 (중요)**: 본 설계는 BondBase와 춘심 AI-Talk 백엔드가 서로 공모하여 데이터를 조작할 가능성을 사전에 차단하는 **Zero-Trust** 모델을 따릅니다. 따라서 오라클은 관리자의 통제권이 미치는 프로젝트 백엔드 DB를 신뢰하지 않으며, 오직 조작이 불가능한 **'제3의 외부 시스템'**만을 검증 근거로 삼습니다.\n- **원천 데이터 소스 (Independent Source of Truth)**:\n    1. **글로벌 결제 Gateway (PayPal, Stripe, Toss 등)**: 실제 자금이 오간 결제 대행사의 수취 완료 API 로그를 직접 조회합니다.\n    2. **공식 앱 스토어 정산 시스템**: Apple App Store 및 Google Play Store의 개발자 리포트 API를 통해 매출의 진위 여부를 확인합니다.\n    3. **온체인 트랜잭션**: 가상자산 결제 건의 경우, 공개된 블록체인 익스플로러를 통해 수취 지갑으로의 자금 이동을 직접 검증합니다.\n- **검증 작업**: 오라클 노드는 상기 명시된 외부 시스템에 직접 접속하여 [BondBase가 기록한 금액 === 외부 시스템의 실제 수취 금액] 여부를 1:1로 엄격히 대조합니다.\n\n### 2.3 On-chain Attestation: 온체인 증명 전송\n- **결과 기록**: 검증이 성공하면 오라클 노드는 자신의 개인키로 서명된 **증명(Proof)** 값을 스마트 컨트랙트에 전송합니다.\n- **데이터 무결성**: 이 과정에서 데이터가 단 1원이라도 다르다면 증명은 거부되며, 시스템은 '검증 실패' 상태를 유지합니다.\n\n## 3. 스마트 컨트랙트 제어 로직 (Guard Logic)\n\n데이터의 진실성이 확인되기 전까지 자금의 흐름을 통제하기 위해 `YieldDistributor.sol`에 다음과 같은 보호 장치를 도입합니다.\n\n### 3.1 Pending Yield 개념 도입\n- **상태의 분리**: 매출 데이터가 입력된 직후의 세션은 **`PENDING`** 상태로 관리됩니다. 이 상태에서는 사용자가 수익을 조회할 수는 있지만, 실제로 출금(Claim)하거나 재투자(Reinvest)할 수 없습니다.\n- **잠금(Lock)**: 입력된 금액만큼의 유동성은 프로콜 내에 '확정 대기' 상태로 묶입니다.\n\n### 3.2 Oracle-driven Unlock (해제 조건)\n- **증명 수신**: 컨트랙트가 오라클로부터 유효한 `Attestation`을 수신하는 순간, 해당 세션은 **`VERIFIED`**로 전환됩니다.\n- **가용성 확보**: 검증된 수익에 한해서만 투자자는 자신의 지갑으로 현금화(USDC 추출)하거나 추가 채권을 구매하는 권한을 갖게 됩니다.\n\n## 4. 투자자 신뢰 지표 (UI/UX 연동)\n\n본 설계는 대시보드 UI 상에서 다음과 같이 시각화되어 신뢰를 가시화합니다.\n\n- **Audit Status Badge**: 각 매출 내역 옆에 'Pending verification' 또는 'Verified by Creditcoin Oracle' 배지를 표시합니다.\n- **Transparency Report**: 오라클이 검증한 원천 데이터의 해시값과 대조 일시를 투명하게 공개하여 투자자가 직접 대조해 볼 수 있는 환경을 제공합니다.\n\n---\n\n**결론**: 이 오라클 기반 감사 시스템을 통해 BondBase는 단순한 데이터 기록 플랫폼을 넘어, **\"조작 불가능한 실물 자산 수익률(Immutable Real Yield)\"**을 제공하는 신뢰 기관으로 완성됩니다.\n"
  },
  {
    "source": "core/08_BOND-BASE_NORMALIZATION_BRANDING_PLAN.md",
    "content": "# [설계/계획 08] BondBase 플랫폼 정규화 및 춘심 전용 브랜딩 계획\n\n**문서 번호**: 08  \n**프로젝트**: BondBase x 춘심 AI-Talk RWA  \n**대상 버전**: v2.5 (Pivot Phase)  \n**작성일**: 2026년 1월 25일  \n\n---\n\n## 1. 정규화(Normalization) 배경 및 목적\nBondBase 플랫폼은 초기 태국 소상공인 대출(MSME Loan) 모델을 기반으로 설계되었으나, 현재 **춘심 AI-Talk IP** 기반의 RWA로 핵심 사업 모델이 피벗되었습니다. 기존의 태출 대출 관련 명칭, 시각적 자산, 데이터 구조는 투자자에게 혼란을 주며 프로젝트의 전문성을 저해하고 있습니다. \n\n본 계획은 Phase 4 진입 전, 플랫폼의 모든 요소를 춘심 AI-Talk 전용으로 최적화하여 **브랜드 일관성(Brand Consistency)**을 확보하는 데 목적이 있습니다.\n\n## 2. 정규화 대상 및 수정 계획\n\n### 2.1 UI/UX 인터페이스 (Rebranding)\n- **메뉴 명칭 고도화**:\n    - `Impact Map` → `Fandom Impact Map` (태국 지역 지도에서 글로벌 팬덤 분포도로 전환)\n    - `Bond Market` → `Growth Market` 또는 `IP Bond Market`\n- **시각적 자산 교체**:\n    - 기존 태국 농민/소상공인 관련 더미 이미지 전면 제거.\n    - `generate_image` 도구를 활용하여 춘심이의 글로벌 활동(일본, 남미, 메타버스 등)을 상징하는 프리미엄 아트워크로 대체.\n- **용어 정제(Terminology)**:\n    - 'Loan', 'Borrower', 'Repayment' → 'Subscription', 'IP Owner', 'Revenue Share'로 전면 교체.\n\n### 2.2 데이터베이스 및 컨텐츠 (Data Archiving & Filtering)\n- **Legacy 데이터 격리**:\n    - 기존 태국 대출 데이터(Bond ID 1~10)를 삭제하지 않고 `status`를 `LEGACY`로 변경.\n    - 프론트엔드 API 호출 시 `status = 'ACTIVE'` 필터를 적용하여 춘심 관련 데이터만 기본 노출.\n- **컨텐츠 리모델링**:\n    - `Impact Map`의 소스 데이터를 태국 지도에서 글로벌 팬덤 분포로 전환 (인프라는 재사용, 컨텐츠만 교체).\n    - `AI Guide`의 텍스트를 IP RWA 투자 가이드라인으로 전면 개편.\n\n### 2.3 시스템 로직 (System Logic)\n- **Primary Alpha 고정**:\n    - 채권 리스트(`/bonds`) 진입 시, 춘심 채권(ID: 101)을 최상단 Primary Alpha로 고정하고 기존 Legacy 채권은 노출 제외 처리.\n\n## 3. 상세 이행 로드맵\n\n| 단계 | 작업 항목 | 기대 결과 |\n| :--- | :--- | :--- |\n| **Step 1** | 사이드바 및 헤더 용어/아이콘 정규화 | 브랜드 정체성 확립 |\n| **Step 2** | DB 내 더미/Legacy 데이터 청소 | 데이터 무결성 확보 |\n| **Step 3** | Impact Map/AI Guide 컨텐츠 교체 | 유저 혼란 제거 |\n| **Step 4** | 최종 통합 테스트 및 시각적 검수 | Phase 4 진입 준비 완료 |\n\n## 4. 향후 영향도 분석\n- 본 작업은 기존 기능의 로직 변경이 아닌, **표현 계층(Presentation Layer)과 데이터 정규화**에 집중하므로 스마트 컨트랙트의 잔액이나 수익금 계산에는 영향을 미치지 않습니다.\n- 투자자에게는 \"춘심 전용 전문 투자 플랫폼\"이라는 강력한 인상을 심어주어 유입률을 높일 것으로 기대됩니다.\n\n---\n**보고자**: Antigravity (AI Coding Assistant)  \n**승인**: USER (BondBase Project Lead)\n"
  },
  {
    "source": "core/09_PHASE-4_AI_INTEGRATION_PLAN.md",
    "content": "# [기획서] Phase 4: AI 에이전트 통합 및 지식 고도화 (AI Integration)\n\n**작성일**: 2026-01-25\n**작성자**: Antigravity (Project BondBase Manager)\n\n---\n\n## 1. 개요 (Overview)\n\nPhase 4는 BondBase의 'AI Concierge'가 단순한 안내 기능을 넘어, **실시간 온체인 데이터 조회**와 **외부 플랫폼(춘심 톡)과의 연동**을 수행할 수 있도록 지능화하는 단계입니다.\n사용자는 AI와의 대화를 통해 자신의 투자 현황을 파악하고, 최적의 수익 전략을 제안받을 수 있어야 합니다.\n\n## 2. 목표 (Goals)\n\n1.  **실시간 지식 동기화 (Live RAG)**:\n    - AI가 정적 문서(Markdown)뿐만 아니라, **스마트 컨트랙트의 현재 상태**(APR, TVL, 내 잔액)를 조회하여 답변할 수 있어야 함.\n2.  **맥락 인식 투자 제안 (Contextual Advice)**:\n    - 사용자의 지갑 연결 여부, 포트폴리오 상태를 인식하여 \"지금 재투자하면 수익률이 X% 상승합니다\"와 같은 구체적 제안 가능.\n3.  **외부 연동 준비 (External Linkage)**:\n    - 춘심 AI-Talk 앱에서 BondBase의 핵심 기능을 호출할 수 있도록 API 및 지식 베이스 표준화.\n\n## 3. 핵심 과제 및 실행 계획 (Tasks)\n\n### 3.1 AI Knowledge Base 고도화 (Knowledge Cleanup)\n- **Problem**: 현재 `knowledge.json`에 과거 태국 대출 관련 레거시 데이터(Stitch Design Brief 등)가 포함되어 있어 AI가 환각(Hallucination)을 일으킬 수 있음.\n- **Action**:\n    - `08_BOND-BASE_NORMALIZATION_BRANDING_PLAN.md` 등 최신 정규화 문서를 포함.\n    - Legacy 파트(Stitch, Thai-specific design) 제거.\n    - 춘심 세계관(IP Lore) 관련 데이터(캐릭터 말투, 팬덤 용어) 추가.\n\n### 3.2 온체인 데이터 조회 도구 (On-chain Tools for AI)\n- **Concept**: Vercel AI SDK의 `tools` 기능을 활용하여 AI가 함수 호출(Function Calling)을 수행하도록 업그레이드.\n- **Functions**:\n    - `getBondStatus(bondId)`: 채권의 현재 모집율 및 APR 조회.\n    - `getUserBalance(walletAddress)`: 사용자의 스테이킹 현황 조회.\n    - `getNextMilestone()`: 달성 임박한 마일스톤 조회.\n\n### 3.3 춘심 페르소나 미세조정 (Fine-tuning Persona)\n- **Tone & Manner**:\n    - 금융 전문용어와 팬덤 은어의 조화로운 사용.\n    - 딱딱한 \"투자하세요\" 대신 \"춘심이의 성장에 동참하세요\"와 같은 네러티브 중심 화법.\n\n## 4. 기술 스택 (Tech Stack)\n\n- **AI Engine**: Google Gemini 2.0 Flash (속도 및 멀티모달 최적화)\n- **Framework**: Vercel AI SDK (Core + React)\n- **Data Source**:\n    - Static: `knowledge.json` (Build-time generated)\n    - Dynamic: `viem` / `wagmi` actions (Real-time RPC calls)\n\n## 5. 예상 결과물 (Deliverables)\n\n- **Smart AI Concierge**: 실시간 APR과 내 잔액을 조회해주는 대화형 에이전트.\n- **Cleaned Knowledge Base**: 레거시 없이 완벽하게 정규화된 RAG 데이터셋.\n\n---\n**다음 단계**: 본 계획 승인 즉시 `knowledge.json` 정비 및 시스템 프롬프트 업데이트 착수.\n"
  },
  {
    "source": "features/admin-portal-specification.md",
    "content": "# Admin Portal Specification: Yield Distribution Management\n\n## 1. 개요 (Overview)\n본 문서는 BondBase 프로젝트의 안전하고 효율적인 운영을 위한 **관리자 전용 포털(Admin Portal)**의 설계 사양을 정의합니다. 기존의 블록 익스플로러를 통한 수동 운영 방식에서 탈피하여, 웹 인터페이스 내에서 직관적이고 오류 없는 자산 운영 환경을 구축하는 것을 목적으로 합니다.\n\n---\n\n## 2. 필요성 및 목표 (Goal)\n- **보안성**: 브라우저 보안 경고(SSL 등) 없이 신뢰할 수 있는 환경에서 트랜잭션 실행.\n- **편의성**: 복잡한 소수점 단위 변환 및 중복 트랜잭션(`Approve` → `Deposit`)을 시스템이 자동 관리.\n- **정확성**: 실시간 잔액 및 한도(Allowance) 조회를 통해 입금 실패 및 가스비 낭비 방지.\n\n---\n\n## 3. 핵심 기능 요구사항 (Core Requirements)\n\n### 3.1 지갑 연결 및 권한 검증\n- **Wallet Connection**: WalletConnect, MetaMask 연동 지원.\n- **Access Control**: 연결된 지갑 주소가 컨트랙트 내 `DISTRIBUTOR_ROLE` 권한을 보유했는지 즉시 검증. 권한이 없을 경우 모든 입력창 비활성화 및 경고 표시.\n\n### 3.2 스마트 수익 배분 모듈 (Smart Yield Distribution)\n- **Step-by-Step Flow**:\n    1. **수량 입력**: 관리자가 달러 단위(USDC)로만 입력 (예: 1000).\n    2. **자동 분석**: 시스템이 `Allowance`를 조회하여 `Approve`가 필요한지 자동으로 판단.\n    3. **단일 UI 액션**: 관리자는 하나의 버튼을 누르되, 시스템 내부적으로 `Approve` → `Deposit` 순서로 트랜잭션 가이드 제공.\n- **Unit Conversion**: 프론트엔드에서 `parseUnits(amount, 18)`를 자동 수행하여 휴먼 에러 차단.\n\n### 3.3 대시보드 모니터링\n- **관리자 잔액**: 현재 관리자 지갑에 보유 중인 `MockUSDC` 수량 상시 노출.\n- **글로벌 보상 상태**: `rewardPerTokenStored`를 조회하여 현재까지 배분된 총 이자 현황 시각화.\n- **채권 현황**: 현재 수익 배분 대상이 되는 채권(Target Bond ID)과 해당 채권의 총 발행량(`totalSupply`) 표시.\n\n---\n\n## 4. UI/UX 설계 가이드라인\n\n### 4.1 트랜잭션 진행 표시 (Transaction Stepper)\n- 여러 개의 트랜잭션이 발생하므로 시각적 프로그레스 바(Progress Bar) 필수.\n- 각 트랜잭션의 컨펌(Confirm) 여부를 사용자에게 즉각 피드백.\n\n### 4.2 안전 장치 (Safety Guards)\n- **잔액 초과 방지**: 지갑 잔액보다 큰 금액 입력 시 \"Balance Insufficient\" 메시지와 함께 버튼 비활성화.\n- **이중 클릭 방지**: 트랜잭션 처리 중 버튼 중복 클릭 원천 차단.\n- **경고 배너**: 실행 전 \"본 작업은 실물 자산 수익을 확정 짓는 트랜잭션이며 취소가 불가능함\"을 명시.\n\n---\n\n## 5. 기술 스택 및 연동 사양\n- **Frontend**: Next.js (App Router), Tailwind CSS, shadcn/ui.\n- **Library**: `wagmi`, `viem` (V2)를 통한 온체인 데이터 통신.\n- **Smart Contracts**:\n    - `MockUSDC`: `approve`, `balanceOf` 호출.\n    - `YieldDistributor`: `depositYield`, `earned`, `rewardPerTokenStored` 호출.\n\n---\n\n## 6. 향후 확장 계획\n- **다중 채권 관리**: 서로 다른 Bond ID에 대해 각각의 수익률을 개별 배분하는 기능.\n- **운용 로그**: 배분 히스토리를 DB(Turso)에 기록하여 관리 대장 자동화.\n- **자동화 알림**: 수익 배분 완료 시 투자자들에게 서비스 내 알림 전송 연동.\n"
  },
  {
    "source": "plans/gasless_transaction_plan.md",
    "content": "# UX Upgrade Plan: Gasless Transaction Implementation\n**Target Version**: V3 or Later\n**Purpose**: Reduce user onboarding friction by subsidizing gas fees (CTC) for bond interactions.\n\n---\n\n## 1. 개요 (Overview)\n현재 사용자는 모든 트랜잭션(투자, 클레임 등)을 위해 테스트넷 코인(CTC)을 직접 확보해야 합니다. 이는 Web3에 익숙하지 않은 사용자에게 큰 진입 장벽입니다. \n본 문서는 서비스 제공자가 가스비를 대납(Paymaster)하여, 사용자는 서명만으로 기능을 이용할 수 있게 하는 **Gasless(Meta-Transaction)** 도입 계획을 정리합니다.\n\n---\n\n## 2. 기술 아키텍처 (Technical Architecture)\n\n표준 **ERC-2771 (Trusted Forwarder)** 패턴을 도입하여 구현합니다.\n\n### 2.1 구성 요소\n1.  **User (Wallet)**: 트랜잭션을 직접 전송하지 않고, 의도(Intent)가 담긴 데이터에 서명(EIP-712)만 수행.\n2.  **Relayer (Backend)**: 사용자의 서명을 받아 검증한 뒤, 자신의 가스비(CTC)를 사용하여 블록체인에 트랜잭션 전송.\n3.  **Forwarder (Contract)**: Relayer로부터 요청을 받아 서명을 검증하고, 실제 타겟 컨트랙트(BondToken 등)를 호출.\n4.  **Target Contracts**: `ERC2771Context`를 상속받아, 요청자가 Relayer가 아닌 '원래 사용자'임을 인식.\n\n---\n\n## 3. 구현 상세 (Implementation Steps)\n\n### Step 1: 스마트 컨트랙트 업그레이드\n기존 모든 컨트랙트에 `ERC2771Context` 적용이 필요합니다.\n\n*   **BondToken.sol / YieldDistributorV2.sol**:\n    *   상속: `is ERC2771Context`\n    *   변경: `msg.sender` -> `_msgSender()` 로 전면 교체.\n    *   생성자: Trusted Forwarder 주소를 주입받도록 수정.\n\n```solidity\n// 예시 코드\nimport \"@openzeppelin/contracts/metatx/ERC2771Context.sol\";\n\ncontract YieldDistributorV2 is ERC2771Context {\n    constructor(address trustedForwarder) ERC2771Context(trustedForwarder) { ... }\n\n    function claimYield(uint256 bondId) external {\n        address user = _msgSender(); // msg.sender 대신 사용\n        ...\n    }\n}\n```\n\n### Step 2: Relayer 인프라 구축\n다음 솔루션 중 하나를 선택하여 도입합니다.\n\n*   **옵션 A: Saas (추천 - Gelato, Biconomy, OpenZeppelin Defender)**\n    *   별도 서버 구축 없이 API 키만으로 사용 가능.\n    *   통계 및 가스비 추적 대시보드 제공.\n*   **옵션 B: 자체 구축 (OpenGSN)**\n    *   자체 Relayer 서버 운영. 유지보수 비용 높음.\n\n### Step 3: 프론트엔드 연동\n`wagmi/viem` 로직을 다음과 같이 변경합니다.\n\n*   **BEFORE**: `writeContract` (지갑 팝업 -> 가스비 승인)\n*   **AFTER**: \n    1.  `signTypedData` (지갑 팝업 -> 서명만, 가스비 0)\n    2.  서명 데이터를 우리 백엔드 API (`/api/relay`)로 전송.\n    3.  백엔드가 블록체인 전송 후 TxHash 반환.\n\n---\n\n## 4. 보안 고려사항 (Security)\n\n1.  **Trusted Forwarder 관리**: Forwarder 주소는 절대적으로 신뢰할 수 있어야 하며, 변경 불가능하거나 Timelock이 걸려야 함.\n2.  **DoS 방지 (Rate Limiting)**: 한 사용자가 무한정 트랜잭션을 보내 가스비를 고갈시키지 않도록 API 레벨에서 요청 횟수 제한 필요.\n3.  **화이트리스트**: 우리가 허용한 함수(`purchase`, `reinvest` 등)만 대납하도록 Forwarder 설정.\n\n---\n\n## 5. 마이그레이션 전략\n기존 배포된 V2 컨트랙트는 `ERC2771`을 지원하지 않으므로, 도입 시 **전체 재배포(Redeploy) 및 데이터 마이그레이션**이 필수입니다. 따라서 주요 버전 업그레이드(V3) 시점에 적용하는 것이 적절합니다.\n"
  },
  {
    "source": "reports/04_PHASE_1_COMPLETION_REPORT.md",
    "content": "# [이행 보고서] Phase 1: BondBase 인프라 및 전용 UI 구축 완료\n\n본 보고서는 'Choonsim Growth Bond' 도입을 위한 Phase 1 작업의 완료 내역 및 성과를 기록합니다.\n\n## 1. 개요\n- **작업 기간**: 2026-01-24 ~ 2026-01-25\n- **목표**: 춘심 AI-Talk 프로젝트의 수익권을 BondBase RWA 모델에 통합하기 위한 기술적/시각적 기반 마련.\n\n## 2. 주요 완료 내역\n\n### 2.1 스마트 컨트랙트 (Smart Contracts)\n- **ChoonsimBond.sol 구현**: `BondToken`(ERC-1155)을 상속받아 마일스톤 트래킹 및 보너스 배당 로직이 포함된 전용 컨트랙트 개발 완료.\n- **통합 테스트 통과**: `ChoonsimIntegration.test.ts`를 통해 [구독 발생 -> 수익 입금 -> 지분 비례 배당] 전체 흐름 검증 완료.\n\n### 2.2 인프라 및 백엔드 (Infrastructure & Backend)\n- **수익 수집 API (Bridge)**: `api/revenue` 엔드포인트를 구축하여 외부 프로젝트(춘심 톡)로부터 매출/마일스톤 데이터를 수신할 수 있는 파이프라인 완성.\n- **보안 강화**: API Key 기반의 Bearer Token 인증 도입 및 환경 변수 관리 체계 수립.\n- **DB 스키마 확장**: Turso DB에 `choonsim_projects`, `choonsim_revenue`, `choonsim_milestones` 테이블 추가 및 마이그레이션 완료.\n\n### 2.3 프론트엔드 UI (Dashboard)\n- **전용 대시보드 개발**: 춘심 프로젝트의 글로벌 지표(팔로워, 구독자) 및 수익 흐름을 시각화하는 위젯 배치.\n- **BondCard 고도화**: 디자인 정교화, 레이아웃 정렬(Invest Now 버튼 중앙화), 활성 트래킹 애니메이션 적용 등을 통해 투자 유저 경험(UX) 극대화.\n\n## 3. 테스트 및 검증 결과\n- **배포 시뮬레이션 성공**: Local 환경에서 가짜 매출 데이터를 전송하여 DB 저장 및 대시보드 실시간 반영 확인 완료.\n- **디자인 검수 완료**: 브라우저별 렌더링 최적화 및 레이아웃 무결성 확인.\n\n## 4. 다음 단계 (Phase 2)\n- **오라클 연동 설계**: Creditcoin Universal Oracle을 통한 오프체인 매출 데이터의 온체인 검증 로직 수립.\n- **거버넌스 시스템**: 투자자 투표 기능 및 마일스톤 보너스 확정 프로세스 고도화.\n\n---\n**보고일**: 2026년 1월 25일\n**작성자**: Antigravity (AI Coding Assistant)\n"
  },
  {
    "source": "reports/06_PHASE-2_COMPLETION_REPORT.md",
    "content": "# [이행 보고서] Phase 2: 플랫폼 성숙도 및 감사(Audit) 시스템 구축 완료\n\n**프로젝트**: BondBase x 춘심 AI-Talk RWA  \n**일자**: 2026년 1월 25일  \n**상태**: **완료 (SUCCESS)**  \n\n---\n\n## 1. 개요\n춘심 RWA 프로젝트의 두 번째 단계인 '플랫폼 성숙도 및 신뢰 시스템 구축' 단계가 성공적으로 이행되었습니다. 이번 단계의 핵심은 Creditcoin Universal Oracle을 활용하여 오프체인 매출 데이터의 실제 여부를 온체인에서 검증하고, 이를 투자자에게 투명하게 공개하는 **감사(Audit) 인프라**를 완성하는 것입니다.\n\n## 2. 주요 이행 내역\n\n### 2.1 Creditcoin Oracle 기반 감사 시스템 구축\n- **Audit Requirement 로직**: `YieldDistributor` 컨트랙트에 특정 채권(ID: 101)에 대해 오라클 검증 없이는 수익 분배가 불가능하도록 `requiresAudit` 모드 구현 및 활성화.\n- **Pending Yield 메커니즘**: Relayer가 수익을 예치하면 즉시 분배되지 않고 `Pending` 상태로 보류된 후, 권한이 있는 오라클 지갑이 승인해야 정산되는 안전 장치 마련.\n\n### 2.2 자동 검증(Auto-Verify) 봇 개발 및 가동\n- **Verify Bot (`verify-bot.js`)**: 온체인 이벤트를 실시간 모니터링하여, 예치된 금액과 DB의 매출 기록(Tx Hash 및 Amount)을 대조한 후 자동으로 `verifyYield` 트랜잭션을 실행하는 백엔드 프로세스 구축.\n- **Race Condition 해결**: API 전송과 온체인 이벤트 감지 간의 타이밍 오차를 극복하기 위한 지연(Delay) 및 동기화 로직 적용.\n\n### 2.3 대시보드 투명성(Transparency) UI 구현\n- **Audit Status 위젯**: 현재 채권이 오라클의 감사를 받고 있는지(STRICT Mode) 실시간 조회하여 표시.\n- **Pending Audit 표시**: 분배 대기 중인 수익금이 얼마인지 대시보드 전면에 노출하여 투자자의 예측 가능성 증대.\n- **Audit Proof 링크**: 온체인 검증 여부를 블록 익스플로러에서 즉시 확인할 수 있도록 연동.\n\n## 3. 검증 결과\n- **통합 테스트 성공**: 500 USDC 예치 시 즉시 분배되지 않고 `Pending` 상태로 남았다가, 봇의 검증 후 자동으로 `Verified` 되어 APR 수치에 반영되는 전체 워크플로우 확인 완료.\n\n## 4. 연관 문서\n- `05_CHOONSIM_AUDIT_DATA_INTEGRITY_DESIGN.md`: 감사 시스템 기술 상세 설계서\n\n---\n**보고일**: 2026년 1월 25일  \n**작성자**: Antigravity (AI Coding Assistant)  \n"
  },
  {
    "source": "reports/07_PHASE-3_COMPLETION_REPORT.md",
    "content": "# [보고서 07] Phase 3: IP 가치 확장 및 유동성 가속화 이행 완료\n\n**프로젝트**: BondBase x 춘심 AI-Talk RWA  \n**일자**: 2026년 1월 25일  \n**상태**: **완료 (SUCCESS)**  \n\n---\n\n## 1. 개요\n춘심 RWA 프로젝트의 세 번째 단계인 '유동성 가속화' 단계가 성공적으로 이행되었습니다. 이번 단계의 핵심은 투자자가 얻은 수익을 다시 IP 성장에 재투입함으로써 자산 가치를 극대화하는 **자동 재투자(Auto-Compound)** 시스템의 구축과 이를 위한 **가젯(Gadget) 및 UI 최적화**입니다.\n\n## 2. 주요 이행 내역\n\n### 2.1 온체인 복리 재투자 엔진 활성화\n- **Reinvest 로직 구현**: `YieldDistributor` 컨트랙트 내 `reinvest` 함수를 통해 수익금(USDC)을 출금 절차 없이 즉시 신규 채권(BondToken) 발행으로 연결.\n- **권한 체계 완성**: `YieldDistributor`에 `BondToken`의 `MINTER_ROLE`을 부여하여, 시스템이 유동성을 흡수하고 지분 토큰을 사용자에게 즉각 발행할 수 있는 Trustless 순환 루프 완성.\n- **USDC 페깅 기반 자산 발행**: 1 USDC 수익 당 1 CHNSM 채권을 발행하여 직관적인 복리 수익 구조 구축.\n\n### 2.2 투자자 전용 포트폴리오 대시보드 고도화\n- **실시간 잔액 대조**: 온체인 지갑의 실시간 CHNSM 잔액과 미정산 수익(Earned Yield)을 대조하여 출력.\n- **복리 파워 시각화(Compound Power)**: 현재 자산 규모와 APR을 기반으로 1년 뒤 예상되는 지분 증가량을 예측 시각화하는 위젯 도입.\n- **인터랙티브 UX**: 'REINVEST' 및 'CLAIM' 기능을 단일 카드 내에 배치하여 투자 결정 가속화.\n\n### 2.3 데이터 무결성 및 자동 검증 완성 (Phase 2 보완)\n- **Auto-Verify Bot 안정화**: `verify-bot.js`를 통해 API 매출 전송과 온체인 이벤트 간의 정합성을 3초 이내에 자동 검증하고 수익을 확정하는 오라클 시스템 안착.\n\n## 3. 검증 결과 (E2E Test)\n시뮬레이션 환경에서의 최종 데이터 변동 내역은 다음과 같습니다.\n\n| 구분 | 재투자 전 | 재투자 후 | 결과 |\n| :--- | :--- | :--- | :--- |\n| **보유 채권 (CHNSM)** | 1,000 | **2,500** | **+150% 증가** |\n| **미수령 수익 (USDC)** | 1,500.00 | **0.00** | **전액 재투자 완료** |\n| **시스템 상태** | Yield Pending | Yield Verified(Wait) | 정상 처리 |\n\n## 4. 향후 계획 (Phase 4 예고)\nPhase 3의 성공적인 이행으로 모든 인프라가 준비되었습니다. 최종 단계인 Phase 4에서는 다음을 수행합니다.\n- **AI Knowledge Sync**: 춘심 AI가 투자자의 수익 상태를 실시간 학습.\n- **Wallet Linkage**: 춘심 AI-Talk 앱 내에서 본 보고서에 포함된 모든 지표를 대화형으로 조회 가능하게 구현.\n\n---\n**보고자**: Antigravity (AI Coding Assistant)  \n**확인**: USER (BondBase Project Lead)\n"
  },
  {
    "source": "roadmap/02_BOND-BASE_CHOONSIM_ROADMAP.md",
    "content": "# [로드맵] BondBase x 춘심 AI-Talk 통합 실행 계획\n\n본 문서는 'Choonsim Growth Bond'를 기반으로 한 글로벌 RWA 생태계 구축을 위한 단계별 기술 및 사업 로드맵을 정의합니다.\n\n## Phase 1: BondBase 인프라 및 전용 UI 구축 (2026년 1분기)\n**목표**: BondBase 내부를 '춘심 성장 모델'에 최적화하여 수용 준비 완료\n\n- **ChoonsimBond 컨트랙트 완성 (완료)**: \n  - 마일스톤 시스템 및 수익 공유 로직 구현 완료.\n- **BondBase 백엔드: 수익 수집 API (Bridge)**: \n  - 춘심 AI-Talk 백엔드로부터 \"구독/매출 발생\" 신호를 안전하게 수신하고 이를 블록체인 트랜잭션으로 변환하는 중계 API 구축.\n- **BondBase 데이터베이스: 프로젝트 지표 트래킹**: \n  - Turso DB 스키마를 업데이트하여 춘심 프로젝트의 글로벌 지표(팔로워, 구독자, 국가별 점유율)를 저장 및 관리.\n- **BondBase 프론트엔드: 춘심 성장 대시보드**: \n  - 기존 태국 대환 대출 대신 춘심이의 글로벌 성장을 시각화하는 전용 투자 페이지 개발.\n\n## Phase 2: 플랫폼 성숙도 및 거버넌스 고도화 (2026년 2분기)\n**목표**: 투자 신뢰성을 높이고 팬덤의 플랫폼 참여 기능 강화\n\n- **데이터 무결성 검증 (Audit)**: \n  - Creditcoin Universal Oracle을 통한 실제 매출 데이터와 온체인 기록 간의 대조 시스템 구축.\n- **온체인 투표 시스템 (Snapshot 연동)**: \n  - 춘심이의 다음 컨셉, 굿즈 테마 등 주요 결정을 위한 투자자 전용 거버넌스 UI 및 로직 완성.\n- **리스크 관리 대시보드**: \n  - 글로벌 경제 상황(남미 인플레이션 등)에 따른 투자 위험도를 분석하여 사용자에게 제공.\n\n## Phase 3: IP 가치 확장 및 유동성 가속화 (2026년 3분기) - [완료]\n**목표**: 채권 유동성 확보를 위한 2차 시장 활성화 및 글로벌 IP 수익 다각화\n\n- **[완료] BondBase Marketplace 활성화**: \n  - 춘심 성장 채권을 투자자들끼리 직접 거래할 수 있는 2차 시장 기능을 오픈하여 유동성(Liquidity) 확보.\n- **[완료] 복리 재투자(Auto-Compound) 시스템**: \n  - 발생한 USDC 수익을 자동으로 채권 구매에 재투입하여 투자 수익률을 극대화하는 온체인 로직 정식 가동.\n- **[완료] Global Royalty 연동**: \n  - 구독료 외에 남미 및 일본 현지 굿즈(Merchandise) 판매 및 라이선스 로열티 수익을 온체인으로 통합 관리 및 분배.\n\n## Phase 4: 춘심 AI-Talk 프로젝트 연동 및 통합 (2026년 4분기)\n**목표**: 외부 프로젝트인 춘심 AI-Talk에 BondBase 기능 삽입 (모든 준비 완료 후 진행)\n\n- **AI-Talk 지갑 연동**: \n  - 춘심 AI-Talk 앱 내부에 BondBase 지갑 인터페이스 삽입.\n- **AI-Talk RAG 업데이트**: \n  - 춘심 AI에게 BondBase의 투자 지식을 학습시켜 대화 중심의 투자 상담 기능 활성화.\n- **통합 수익 리포팅**: \n  - 춘심 톡에서 즉각적으로 투자 수익을 확인하고 클레임할 수 있는 '빨대' 연동 완성.\n\n---\n**업데이트 예정**: 각 단계 완료 시 `docs/reports/` 폴더 내에 이행 보고서 작성 및 로드맵 업데이트 실시.\n"
  }
]